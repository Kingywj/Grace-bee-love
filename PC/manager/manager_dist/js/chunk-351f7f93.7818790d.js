(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-351f7f93"],{c4db:function(t,e,i){},d529:function(t,e,i){"use strict";i.r(e);var n=i("365c");function s(e,t){var i,n=Object.keys(e);return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(e),t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)),n}function r(n){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach(function(t){var e,i;e=n,i=r[t=t],t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(r,t))})}return n}var a={data:function(){return{formValidate:{}}},props:["res","type"],created:function(){this.init()},methods:{submit:function(t){this.setupSetting()},setupSetting:function(){var e=this;Object(n.hb)(this.type,this.formValidate).then(function(t){t.success?e.$Message.success("保存成功!"):e.$Message.error("保存失败!")})},delSign:function(t,e){this.formValidate.pointSettingItems.splice(e,1)},addSign:function(){if(5<=this.formValidate.pointSettingItems.length)return this.$Message.error({content:"最多设置5项签到设置"}),!1;this.formValidate.pointSettingItems.push({point:"0",day:this.formValidate.pointSettingItems.length})},init:function(){var e=this;this.res=JSON.parse(this.res),Object.keys(this.res).map(function(t){if("pointSettingItems"==t)return!1;e.res[t]+=""}),this.$set(this,"formValidate",r({},this.res)),Object.keys(this.formValidate).forEach(function(t){e.ruleValidate[t]=[{required:!0,message:"请填写必填项",trigger:"blur"},{validator:function(t,e,i){e<0?i(new Error("不能输入负数！")):i()},trigger:"change"}]})}}},i=(i("eb5e"),i("2877")),i=Object(i.a)(a,function(){var n=this,t=n._self._c;return t("div",{staticClass:"layout"},[t("Form",{ref:"formValidate",attrs:{"label-width":150,"label-position":"right",model:n.formValidate,rules:n.ruleValidate}},[n._l(n.formValidate.pointSettingItems,function(e,i){return t("FormItem",{key:i,staticClass:"label-item",attrs:{label:"签到设置"+(i+1)}},[t("div",{staticClass:"label-item"},[t("InputNumber",{attrs:{min:1},model:{value:e.day,callback:function(t){n.$set(e,"day",t)},expression:"point.day"}}),t("InputNumber",{attrs:{min:0},model:{value:e.point,callback:function(t){n.$set(e,"point",t)},expression:"point.point"}}),t("Button",{attrs:{ghost:"",type:"error"},on:{click:function(t){return n.delSign(e,i)}}},[n._v("删除")]),t("span",{staticClass:"ml_10"},[n._v("签到"),t("span",{staticClass:"theme_color"},[n._v(n._s(e.day))]),n._v("天，赠送"),t("span",{staticClass:"theme_color"},[n._v(n._s(e.point))]),n._v("积分")])],1)])}),t("FormItem",{attrs:{label:"操作："}},[t("Button",{on:{click:n.addSign}},[n._v("新增签到")])],1),t("div",{staticClass:"label-btns"},[t("Button",{attrs:{type:"primary"},on:{click:function(t){return n.submit("formValidate")}}},[n._v("保存")])],1)],2)],1)},[],!1,null,"72d8d4fe",null);e.default=i.exports},eb5e:function(t,e,i){"use strict";i("c4db")}}]);