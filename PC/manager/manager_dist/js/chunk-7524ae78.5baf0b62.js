(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-7524ae78"],{"934f":function(t,e,n){"use strict";n.r(e);var i=n("365c"),a=n("ed08"),s={name:"goods-unit",data:function(){var n=this;return{loading:!0,modalVisible:!1,modalTitle:"",searchForm:{pageNumber:1,pageSize:10,sort:"createTime",order:"desc",name:""},form:{name:""},formValidate:{name:[a.a.REQUIRED,a.a.VARCHAR5]},submitLoading:!1,selectList:[],selectCount:0,columns:[{type:"selection",width:60,align:"center"},{title:"计量单位",key:"name",minWidth:120},{title:"创建时间",key:"createTime",width:180},{title:"更新时间",key:"updateTime",width:180},{title:"操作人",key:"createBy",minWidth:150},{title:"操作",key:"action",align:"center",width:200,render:function(t,e){return t("div",[t("Button",{props:{type:"info",size:"small"},style:{marginRight:"5px"},on:{click:function(){n.edit(e.row)}}},"修改"),t("Button",{props:{type:"error",size:"small"},style:{marginRight:"5px"},on:{click:function(){n.remove(e.row)}}},"删除")])}}],data:[],total:0}},methods:{init:function(){this.getDataList()},changePage:function(t){this.searchForm.pageNumber=t,this.getDataList(),this.clearSelectAll()},changePageSize:function(t){this.searchForm.pageSize=t,this.getDataList()},handleSearch:function(){this.searchForm.pageNumber=1,this.searchForm.pageSize=10,this.getDataList()},clearSelectAll:function(){this.$refs.table.selectAll(!1)},changeSelect:function(t){this.selectList=t,this.selectCount=t.length},getDataList:function(){var e=this;this.loading=!0,Object(i.E)(this.searchForm).then(function(t){e.loading=!1,t.success&&(e.data=t.result.records,e.total=t.result.total)}),this.total=this.data.length,this.loading=!1},handleSubmit:function(){var e=this;this.$refs.form.validate(function(t){t&&(e.submitLoading=!0,"添加"==e.modalTitle?e.data.find(function(t){return t.name==e.form.name})?(e.$Message.error("请勿添加重复计量单位!"),e.submitLoading=!1):(delete e.form.id,Object(i.b)(e.form).then(function(t){e.submitLoading=!1,t.success&&(e.$Message.success("操作成功"),e.getDataList(),e.modalVisible=!1)})):Object(i.kb)(e.id,e.form).then(function(t){e.submitLoading=!1,t.success&&(e.$Message.success("操作成功"),e.getDataList(),e.modalVisible=!1)}))})},add:function(){this.modalTitle="添加",this.form={},this.$refs.form.resetFields(),this.modalVisible=!0},edit:function(t){this.id=t.id,this.modalTitle="修改",this.modalVisible=!0,this.form.name=t.name},remove:function(t){var e=this;this.$Modal.confirm({title:"确认删除",content:"您确认要删除 "+t.name+" ?",loading:!0,onOk:function(){Object(i.k)(t.id).then(function(t){e.$Modal.remove(),t.success&&(e.$Message.success("操作成功"),e.getDataList())})}})},delAll:function(){var n=this;this.selectCount<=0?this.$Message.warning("您还未选择要删除的数据"):this.$Modal.confirm({title:"确认删除",content:"您确认要删除所选的 "+this.selectCount+" 条数据?",loading:!0,onOk:function(){var e="";n.selectList.forEach(function(t){e+=t.id+","}),e=e.substring(0,e.length-1),Object(i.k)(e).then(function(t){n.$Modal.remove(),t.success&&(n.$Message.success("操作成功"),n.clearSelectAll(),n.getDataList())})}})}},mounted:function(){this.init()}},n=n("2877"),n=Object(n.a)(s,function(){var e=this,t=e._self._c;return t("div",{staticClass:"search"},[t("Card",[t("Row",{staticClass:"operation"},[t("Button",{attrs:{type:"primary"},on:{click:e.add}},[e._v("添加")]),t("Button",{on:{click:e.delAll}},[e._v("批量删除")])],1),t("Table",{ref:"table",attrs:{loading:e.loading,border:"",columns:e.columns,data:e.data,sortable:"custom"},on:{"on-selection-change":e.changeSelect}}),t("Row",{staticClass:"mt_10",attrs:{type:"flex",justify:"end"}},[t("Page",{attrs:{current:e.searchForm.pageNumber,total:e.total,"page-size":e.searchForm.pageSize,"page-size-opts":[10,20,50],size:"small","show-total":"","show-elevator":"","show-sizer":""},on:{"on-change":e.changePage,"on-page-size-change":e.changePageSize}})],1)],1),t("Modal",{attrs:{title:e.modalTitle,"mask-closable":!1,width:500},model:{value:e.modalVisible,callback:function(t){e.modalVisible=t},expression:"modalVisible"}},[t("Form",{ref:"form",attrs:{model:e.form,"label-width":100,rules:e.formValidate}},[t("FormItem",{attrs:{label:"计量单位",prop:"name"}},[t("Input",{staticStyle:{width:"100%"},attrs:{clearable:""},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1),t("div",{attrs:{slot:"footer"},slot:"footer"},[t("Button",{attrs:{type:"text"},on:{click:function(t){e.modalVisible=!1}}},[e._v("取消")]),t("Button",{attrs:{type:"primary",loading:e.submitLoading},on:{click:e.handleSubmit}},[e._v("提交")])],1)],1)],1)},[],!1,null,null,null);e.default=n.exports},ed08:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i={},a=(n.r(i),n.d(i,"qq",function(){return a}),n.d(i,"name",function(){return s}),n.d(i,"mobile",function(){return o}),n.d(i,"email",function(){return r}),n.d(i,"password",function(){return c}),n.d(i,"integer",function(){return l}),n.d(i,"Integer",function(){return u}),n.d(i,"discount",function(){return d}),n.d(i,"rate",function(){return m}),n.d(i,"money",function(){return f}),n.d(i,"IDCard",function(){return h}),n.d(i,"userName",function(){return g}),n.d(i,"URL",function(){return p}),n.d(i,"TEL",function(){return b}),n.d(i,"INTEGER",function(){return $}),n.d(i,"NUMBER",function(){return w}),n.d(i,"VARCHAR5",function(){return v}),n.d(i,"VARCHAR20",function(){return z}),n.d(i,"VARCHAR255",function(){return A}),n.d(i,"URL200",function(){return k}),n.d(i,"REQUIRED",function(){return L}),/^[1-9][0-9]{4,14}$/),s=/^[\u4e00-\u9fa5]{0,}$/,o=/^0?(13[0-9]|14[0-9]|15[0-9]|16[0-9]|17[0-9]|18[0-9]|19[0-9])[0-9]{8}$/,r=/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/,c=/^[@A-Za-z0-9!#$%^&*.~,]{6,20}$/,l=/^[1-9]\d*$/,u=/^[0-9]\d*$/,d=/^((0\.[1-9]{1})|(([1-9]{1})(\.\d{1})?))$/,m=/^([0-9]{1,2}|100)$/,f=/(^[1-9]([0-9]+)?(\.[0-9]{1,2})?$)|(^(0){1}$)|(^[0-9]\.[0-9]([0-9])?$)/,h=/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/,g=/[A-Za-z0-9_\-\u4e00-\u9fa5]$/,p=/^(https?|ftp):\/\/([a-zA-Z0-9.-]+(:[a-zA-Z0-9.&%$-]+)*@)*((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]?)(\.(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9]?[0-9])){3}|([a-zA-Z0-9-]+\.)*[a-zA-Z0-9-]+\.(com|edu|gov|int|mil|net|org|biz|arpa|info|name|pro|aero|coop|museum|[a-zA-Z]{2}))(:[0-9]+)*(\/($|[a-zA-Z0-9.,?'\\+&%$#=~_-]+))*$/,b=/0\d{2,3}-\d{7,8}/,$={pattern:/^[0-9]\d{0,10}|0$/,message:"请输入正整数"},w={pattern:/^(\-|\+)?\d{0,10}$/,message:"请输入数字"},v={pattern:/^.{1,5}$/,message:"长度应该限制在1-5个字符"},z={pattern:/^.{1,20}$/,message:"长度应该限制在1-20个字符"},A={pattern:/^.{1,255}$/,message:"超出最大长度限制"},k={pattern:/[a-zA-z]+\:\/\/[^\s]{1,190}/,message:"请输入长度不超过200的URL地址"},L={required:!0,message:"请填写参数"}}}]);