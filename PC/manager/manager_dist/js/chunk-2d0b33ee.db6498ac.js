(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-2d0b33ee"],{"280b":function(t,e,i){"use strict";i.r(e);var s=i("365c"),a={name:"sensitive-words",data:function(){var i=this;return{loading:!0,modalType:0,modalVisible:!1,modalTitle:"",searchForm:{pageNumber:1,pageSize:10,sort:"createTime",order:"desc",sensitiveWord:""},form:{sensitiveWord:""},formValidate:{sensitiveWord:[{required:!0,message:"请输入敏感词",trigger:"blur"}]},submitLoading:!1,selectList:[],selectCount:0,columns:[{type:"selection",width:60,align:"center"},{title:"敏感词",key:"sensitiveWord",minWidth:120},{title:"创建时间",key:"createTime",width:200},{title:"更新时间",key:"updateTime",width:200},{title:"操作人",key:"createBy",minWidth:150},{title:"操作",key:"action",align:"center",fixed:"right",width:200,render:function(t,e){return t("div",[t("Button",{props:{type:"info",size:"small"},style:{marginRight:"5px"},on:{click:function(){i.detail(e.row)}}},"修改"),t("Button",{props:{type:"error",size:"small"},style:{marginRight:"5px"},on:{click:function(){i.remove(e.row)}}},"删除")])}}],data:[],total:0}},methods:{init:function(){this.getDataList()},changePage:function(t){this.searchForm.pageNumber=t,this.getDataList(),this.clearSelectAll()},changePageSize:function(t){this.searchForm.pageNumber=1,this.searchForm.pageSize=t,this.getDataList()},handleSearch:function(){this.searchForm.pageNumber=1,this.getDataList()},clearSelectAll:function(){this.$refs.table.selectAll(!1)},changeSelect:function(t){this.selectList=t,this.selectCount=t.length},getDataList:function(){var e=this;this.loading=!0,Object(s.M)(this.searchForm).then(function(t){e.loading=!1,t.success&&(e.data=t.result.records,e.total=t.result.total)}),this.total=this.data.length,this.loading=!1},handleSubmit:function(){var e=this;this.$refs.form.validate(function(t){t&&(e.submitLoading=!0,0==e.modalType?(delete e.form.id,Object(s.W)(e.form).then(function(t){e.submitLoading=!1,t.success&&(e.$Message.success("操作成功"),e.getDataList(),e.modalVisible=!1)})):Object(s.mb)(e.id,e.form).then(function(t){e.submitLoading=!1,t.success&&(e.$Message.success("操作成功"),e.getDataList(),e.modalVisible=!1)}))})},add:function(){this.modalType=0,this.modalTitle="添加",this.form={},this.$refs.form.resetFields(),this.modalVisible=!0},detail:function(t){this.modalType=1,this.id=t.id,this.modalTitle="修改",this.modalVisible=!0,this.form.sensitiveWord=t.sensitiveWord},remove:function(t){var e=this;this.$Modal.confirm({title:"确认删除",content:"您确认要删除 "+t.sensitiveWord+" ?",loading:!0,onOk:function(){Object(s.m)(t.id).then(function(t){e.$Modal.remove(),t.success&&(e.$Message.success("操作成功"),e.getDataList())})}})},delAll:function(){var i=this;this.selectCount<=0?this.$Message.warning("您还未选择要删除的数据"):this.$Modal.confirm({title:"确认删除",content:"您确认要删除所选的 "+this.selectCount+" 条数据?",loading:!0,onOk:function(){var e="";i.selectList.forEach(function(t){e+=t.id+","}),e=e.substring(0,e.length-1),Object(s.m)(e).then(function(t){i.$Modal.remove(),t.success&&(i.$Message.success("操作成功"),i.clearSelectAll(),i.getDataList())})}})}},mounted:function(){this.init()}},i=i("2877"),i=Object(i.a)(a,function(){var e=this,t=e._self._c;return t("div",{staticClass:"search"},[t("Card",[t("Row",{staticClass:"operation"},[t("Button",{attrs:{type:"primary"},on:{click:e.add}},[e._v("添加")]),t("Button",{on:{click:e.delAll}},[e._v("批量删除")])],1),t("Table",{ref:"table",attrs:{loading:e.loading,border:"",columns:e.columns,data:e.data},on:{"on-selection-change":e.changeSelect}}),t("Row",{staticClass:"mt_10",attrs:{type:"flex",justify:"end"}},[t("Page",{attrs:{current:e.searchForm.pageNumber,total:e.total,"page-size":e.searchForm.pageSize,"page-size-opts":[10,20,50],size:"small","show-total":"","show-elevator":"","show-sizer":""},on:{"on-change":e.changePage,"on-page-size-change":e.changePageSize}})],1)],1),t("Modal",{attrs:{title:e.modalTitle,"mask-closable":!1,width:500},model:{value:e.modalVisible,callback:function(t){e.modalVisible=t},expression:"modalVisible"}},[t("Form",{ref:"form",attrs:{model:e.form,"label-width":100,rules:e.formValidate}},[t("FormItem",{attrs:{label:"敏感词",prop:"sn"}},[t("Input",{staticStyle:{width:"100%"},attrs:{clearable:""},model:{value:e.form.sensitiveWord,callback:function(t){e.$set(e.form,"sensitiveWord",t)},expression:"form.sensitiveWord"}})],1)],1),t("div",{attrs:{slot:"footer"},slot:"footer"},[t("Button",{attrs:{type:"text"},on:{click:function(t){e.modalVisible=!1}}},[e._v("取消")]),t("Button",{attrs:{type:"primary",loading:e.submitLoading},on:{click:e.handleSubmit}},[e._v("提交")])],1)],1)],1)},[],!1,null,null,null);e.default=i.exports}}]);