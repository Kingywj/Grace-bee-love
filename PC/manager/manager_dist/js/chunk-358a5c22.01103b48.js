(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-358a5c22"],{"3f05":function(e,t,o){"use strict";o("cfa3")},ac78:function(e,t,o){"use strict";o.r(t);var r=o("f74c"),n=o("c40e"),i=o("ed08");function x(e){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){{var o;if(e)return"string"==typeof e?s(e,t):"Map"===(o="Object"===(o=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:o)||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?s(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,r=new Array(t);o<t;o++)r[o]=e[o];return r}function L(){L=function(){return a};var a={},e=Object.prototype,c=e.hasOwnProperty,t="function"==typeof Symbol?Symbol:{},r=t.iterator||"@@iterator",o=t.asyncIterator||"@@asyncIterator",n=t.toStringTag||"@@toStringTag";function i(e,t,o){return Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{i({},"")}catch(e){i=function(e,t,o){return e[t]=o}}function s(e,t,o,r){var n,i,a,s,t=t&&t.prototype instanceof d?t:d,t=Object.create(t.prototype),r=new T(r||[]);return t._invoke=(n=e,i=o,a=r,s="suspendedStart",function(e,t){if("executing"===s)throw new Error("Generator is already running");if("completed"===s){if("throw"===e)throw t;return I()}for(a.method=e,a.arg=t;;){var o=a.delegate;if(o){o=function e(t,o){var r=t.iterator[o.method];if(void 0===r){if(o.delegate=null,"throw"===o.method){if(t.iterator.return&&(o.method="return",o.arg=void 0,e(t,o),"throw"===o.method))return u;o.method="throw",o.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}r=l(r,t.iterator,o.arg);if("throw"===r.type)return o.method="throw",o.arg=r.arg,o.delegate=null,u;r=r.arg;return r?r.done?(o[t.resultName]=r.value,o.next=t.nextLoc,"return"!==o.method&&(o.method="next",o.arg=void 0),o.delegate=null,u):r:(o.method="throw",o.arg=new TypeError("iterator result is not an object"),o.delegate=null,u)}(o,a);if(o){if(o===u)continue;return o}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===s)throw s="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);s="executing";o=l(n,i,a);if("normal"===o.type){if(s=a.done?"completed":"suspendedYield",o.arg===u)continue;return{value:o.arg,done:a.done}}"throw"===o.type&&(s="completed",a.method="throw",a.arg=o.arg)}}),t}function l(e,t,o){try{return{type:"normal",arg:e.call(t,o)}}catch(e){return{type:"throw",arg:e}}}a.wrap=s;var u={};function d(){}function p(){}function m(){}var t={},f=(i(t,r,function(){return this}),Object.getPrototypeOf),f=f&&f(f(w([]))),h=(f&&f!==e&&c.call(f,r)&&(t=f),m.prototype=d.prototype=Object.create(t));function y(e){["next","throw","return"].forEach(function(t){i(e,t,function(e){return this._invoke(t,e)})})}function g(a,s){var t;this._invoke=function(o,r){function e(){return new s(function(e,t){!function t(e,o,r,n){var i,e=l(a[e],a,o);if("throw"!==e.type)return(o=(i=e.arg).value)&&"object"==x(o)&&c.call(o,"__await")?s.resolve(o.__await).then(function(e){t("next",e,r,n)},function(e){t("throw",e,r,n)}):s.resolve(o).then(function(e){i.value=e,r(i)},function(e){return t("throw",e,r,n)});n(e.arg)}(o,r,e,t)})}return t=t?t.then(e,e):e()}}function v(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function b(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(v,this),this.reset(!0)}function w(t){if(t){var o,e=t[r];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return o=-1,(e=function e(){for(;++o<t.length;)if(c.call(t,o))return e.value=t[o],e.done=!1,e;return e.value=void 0,e.done=!0,e}).next=e}return{next:I}}function I(){return{value:void 0,done:!0}}return i(h,"constructor",p.prototype=m),i(m,"constructor",p),p.displayName=i(m,n,"GeneratorFunction"),a.isGeneratorFunction=function(e){e="function"==typeof e&&e.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},a.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,i(e,n,"GeneratorFunction")),e.prototype=Object.create(h),e},a.awrap=function(e){return{__await:e}},y(g.prototype),i(g.prototype,o,function(){return this}),a.AsyncIterator=g,a.async=function(e,t,o,r,n){void 0===n&&(n=Promise);var i=new g(s(e,t,o,r),n);return a.isGeneratorFunction(t)?i:i.next().then(function(e){return e.done?e.value:i.next()})},y(h),i(h,n,"Generator"),i(h,r,function(){return this}),i(h,"toString",function(){return"[object Generator]"}),a.keys=function(o){var e,r=[];for(e in o)r.push(e);return r.reverse(),function e(){for(;r.length;){var t=r.pop();if(t in o)return e.value=t,e.done=!1,e}return e.done=!0,e}},a.values=w,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(b),!e)for(var t in this)"t"===t.charAt(0)&&c.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(o){if(this.done)throw o;var r=this;function e(e,t){return i.type="throw",i.arg=o,r.next=e,t&&(r.method="next",r.arg=void 0),!!t}for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t],i=n.completion;if("root"===n.tryLoc)return e("end");if(n.tryLoc<=this.prev){var a=c.call(n,"catchLoc"),s=c.call(n,"finallyLoc");if(a&&s){if(this.prev<n.catchLoc)return e(n.catchLoc,!0);if(this.prev<n.finallyLoc)return e(n.finallyLoc)}else if(a){if(this.prev<n.catchLoc)return e(n.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<n.finallyLoc)return e(n.finallyLoc)}}}},abrupt:function(e,t){for(var o=this.tryEntries.length-1;0<=o;--o){var r=this.tryEntries[o];if(r.tryLoc<=this.prev&&c.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var n=r;break}}var i=(n=n&&("break"===e||"continue"===e)&&n.tryLoc<=t&&t<=n.finallyLoc?null:n)?n.completion:{};return i.type=e,i.arg=t,n?(this.method="next",this.next=n.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var o=this.tryEntries[t];if(o.finallyLoc===e)return this.complete(o.completion,o.afterLoc),b(o),u}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var o,r,n=this.tryEntries[t];if(n.tryLoc===e)return"throw"===(o=n.completion).type&&(r=o.arg,b(n)),r}throw new Error("illegal catch attempt")},delegateYield:function(e,t,o){return this.delegate={iterator:w(e),resultName:t,nextLoc:o},"next"===this.method&&(this.arg=void 0),u}},a}function c(e,t,o,r,n,i,a){try{var s=e[i](a),c=s.value}catch(e){return o(e)}s.done?t(c):Promise.resolve(c).then(r,n)}function l(s){return function(){var e=this,a=arguments;return new Promise(function(t,o){var r=s.apply(e,a);function n(e){c(r,t,o,n,i,"next",e)}function i(e){c(r,t,o,n,i,"throw",e)}n(void 0)})}}var u={name:"edit-platform-coupon",components:{skuSelect:o("f415").a},watch:{"form.getType":{handler:function(e){"FREE"==e&&(this.rangeTimeType=1)},deep:!0},$route:function(e){this.id=e.query.id,this.id?this.getCoupon():this.$refs.form.resetFields()}},data:function(){var o=this;return{disabled:this.$route.query.onlyView,rangeTimeType:1,modalType:0,form:{storeCommission:0,publishNum:0,scopeType:"ALL",couponLimitNum:1,couponType:"PRICE",couponName:"",promotionName:"",getType:"FREE",promotionGoodsList:[],scopeIdGoods:[],rangeDayType:""},id:this.$route.query.id,submitLoading:!1,selectedGoods:[],goodsCategoryList:[],formRule:{promotionName:[{required:!0,message:"活动名称不能为空"}],couponName:[{required:!0,message:"优惠券名称不能为空"}],price:[{required:!0,message:"请输入面额"},{validator:function(e,t,o){if(!t&&0!==t)return o(new Error("面额不能为空"));i.a.money.test(t)?99999999<parseFloat(t)?o(new Error("面额设置超过上限值")):o():o(new Error("请输入正整数或者两位小数"))}}],rangeTime:[{required:!0,message:"请选择优惠券有效期"}],consumeThreshold:[{required:!0,message:"请输入消费门槛"},{validator:function(e,t,o){t||"number"==typeof t?i.a.money.test(t)?99999999<parseFloat(t)?o(new Error("消费门槛设置超过上限值")):o():o(new Error("请输入正整数或者两位小数")):o(new Error("消费门槛不能为空"))}}],couponDiscount:[{required:!0,message:"请输入折扣"},{pattern:i.a.discount,message:"请输入0-10的数字,可有一位小数"}],storeCommission:[{required:!0,message:"请输入店铺承担比例"},{pattern:i.a.rate,message:"请输入0-100的正整数"}],publishNum:[{required:!0,message:"请输入发放数量"},{pattern:i.a.Integer,message:"请输入正整数"}],couponLimitNum:[{required:!0,message:"领取限制不能为空"},{pattern:i.a.Integer,message:"请输入正整数"}],description:[{required:!0,message:"请输入范围描述"}]},columns:[{type:"selection",width:60,align:"center"},{title:"商品名称",key:"goodsName",minWidth:120},{title:"商品价格",key:"price",minWidth:40,render:function(e,t){return e("div",o.$options.filters.unitPrice(t.row.price,"￥"))}},{title:"库存",key:"quantity",minWidth:40},{title:"操作",key:"action",minWidth:50,align:"center",render:function(e,t){return e("Button",{props:{size:"small",type:"error",ghost:!0},on:{click:function(){o.delGoods(t.index)}}},"删除")}}],options:{disabledDate:function(e){return e&&e.valueOf()<Date.now()-864e5}}}},mounted:function(){var t=this;return l(L().mark(function e(){return L().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getCagetoryList();case 2:t.id&&(t.getCoupon(),t.modalType=1);case 3:case"end":return e.stop()}},e)}))()},methods:{getCoupon:function(){var o=this;Object(r.y)(this.id).then(function(e){var t,i,e=e.result;e.promotionGoodsList||(e.promotionGoodsList=[]),o.rangeTimeType="DYNAMICTIME"===e.rangeDayType?0:1,"PORTION_GOODS_CATEGORY"==e.scopeType&&(t=function t(r,n){for(var e=0;e<r.length;e++)!function(e){var o=r[e];o.children?t(o.children,[].concat(a(n),[o])):i.includes(o.id)?i=i.map(function(e){var t;return e===o.id?(t=n.map(function(e){return e.id}),[].concat(a(t),[o.id])):e}):e===r.length-1&&(n=[])}(e)},i=e.scopeId.split(","),t(o.goodsCategoryList,[]),e.scopeIdGoods=i),e.rangeTime=[],e.startTime&&e.endTime&&e.rangeTime.push(new Date(e.startTime),new Date(e.endTime)),o.form=e})},handleSubmit:function(){var o=this;this.$refs.form.validate(function(e){var t;e&&("ACTIVITY"!=(e=JSON.parse(JSON.stringify(o.form))).getType&&delete e.effectiveDays,1==o.rangeTimeType?(e.rangeDayType="FIXEDTIME",e.startTime=o.$options.filters.unixToDate(o.form.rangeTime[0]/1e3),e.endTime=o.$options.filters.unixToDate(o.form.rangeTime[1]/1e3),delete e.effectiveDays):(e.rangeDayType="DYNAMICTIME",delete e.rangeTime),t=[],"PORTION_GOODS"!=e.scopeType||e.promotionGoodsList&&0!=e.promotionGoodsList.length?"PORTION_GOODS_CATEGORY"!=e.scopeType||e.scopeIdGoods&&0!=e.scopeIdGoods.length?("PORTION_GOODS"==e.scopeType?(e.promotionGoodsList.forEach(function(e){t.push(e.skuId)}),e.scopeId=t.toString()):"ALL"==e.scopeType?delete e.promotionGoodsList:"PORTION_GOODS_CATEGORY"==e.scopeType&&(t=o.filterCategoryId(e.scopeIdGoods,[]),e.scopeId=t.toString(),delete e.promotionGoodsList),delete e.scopeIdGoods,o.submitLoading=!0,0===o.modalType?(delete e.id,Object(r.G)(e).then(function(e){o.submitLoading=!1,e.success&&(o.$Message.success("优惠券发送成功"),o.closeCurrentPage())})):(delete e.consumeLimit,delete e.updateTime,Object(r.k)(e).then(function(e){o.submitLoading=!1,e.success&&(o.$Message.success("优惠券修改成功"),o.closeCurrentPage())}))):o.$Modal.warning({title:"提示",content:"请选择商品分类"}):o.$Modal.warning({title:"提示",content:"请选择指定商品"}))})},closeCurrentPage:function(){this.$store.commit("removeTag","add-platform-coupon"),localStorage.pageOpenedList=JSON.stringify(this.$store.state.app.pageOpenedList),this.$router.go(-1)},openSkuList:function(){this.$refs.skuSelect.open("goods");var e=JSON.parse(JSON.stringify(this.form.promotionGoodsList));e.forEach(function(e){e.id=e.skuId}),this.$refs.skuSelect.goodsData=e},changeSelect:function(e){this.selectedGoods=e},delSelectGoods:function(){var e=this;this.selectedGoods.length<=0?this.$Message.warning("您还未选择要删除的数据"):this.$Modal.confirm({title:"确认删除",content:"您确认要删除所选商品吗?",onOk:function(){var t=[];e.selectedGoods.forEach(function(e){t.push(e.id)}),e.form.promotionGoodsList=e.form.promotionGoodsList.filter(function(e){return!t.includes(e.id)})}})},delGoods:function(e){this.form.promotionGoodsList.splice(e,1)},selectedGoodsData:function(e){var t=[];e.forEach(function(e){t.push({goodsName:e.goodsName,price:e.price,originalPrice:e.price,quantity:e.quantity,storeId:e.storeId,storeName:e.storeName,skuId:e.id,categoryPath:e.categoryPath,thumbnail:e.small,goodsType:e.goodsType,goodsId:e.goodsId,originPrice:e.price})}),this.form.promotionGoodsList=t},getCagetoryList:function(){var o=this;return l(L().mark(function e(){var t;return L().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(n.o)();case 2:t=e.sent,o.goodsCategoryList=t.result,o.goodsCategoryList=o.goodsCategoryList.map(function(e){return e.children&&(e.children=e.children.map(function(e){return e.children?(e.children=e.children.map(function(e){return{value:e.id,label:e.name}}),{value:e.id,label:e.name,children:e.children}):{value:e.id,label:e.name}})),{value:e.id,label:e.name,children:e.children}});case 5:case"end":return e.stop()}},e)}))()},filterCategoryId:function(e,t){var o=this;return e.forEach(function(e){e instanceof Array?o.filterCategoryId(e,t):t.includes(e)||t.push(e)}),t}}},o=(o("3f05"),o("2877")),o=Object(o.a)(u,function(){var t=this,o=t._self._c;return o("div",[o("Card",[o("Form",{ref:"form",attrs:{model:t.form,"label-width":120,rules:t.formRule}},[o("div",{staticClass:"base-info-item"},[o("h4",[t._v("基本信息")]),o("div",{staticClass:"form-item-view"},[o("FormItem",{attrs:{label:"活动名称",prop:"promotionName"}},[o("Input",{staticStyle:{width:"260px"},attrs:{disabled:t.disabled,type:"text",placeholder:"活动名称",clearable:""},model:{value:t.form.promotionName,callback:function(e){t.$set(t.form,"promotionName",e)},expression:"form.promotionName"}})],1),o("FormItem",{attrs:{label:"优惠券名称",prop:"couponName"}},[o("Input",{staticStyle:{width:"260px"},attrs:{disabled:t.disabled,type:"text",placeholder:"优惠券名称",clearable:""},model:{value:t.form.couponName,callback:function(e){t.$set(t.form,"couponName",e)},expression:"form.couponName"}})],1),o("FormItem",{attrs:{label:"优惠券类型",prop:"couponType"}},[o("Select",{staticStyle:{width:"260px"},attrs:{disabled:t.disabled},model:{value:t.form.couponType,callback:function(e){t.$set(t.form,"couponType",e)},expression:"form.couponType"}},[o("Option",{attrs:{value:"DISCOUNT"}},[t._v("打折")]),o("Option",{attrs:{value:"PRICE"}},[t._v("减免现金")])],1)],1),"DISCOUNT"==t.form.couponType?o("FormItem",{attrs:{label:"折扣",prop:"couponDiscount"}},[o("Input",{staticStyle:{width:"260px"},attrs:{disabled:t.disabled,type:"number",placeholder:"折扣",clearable:""},model:{value:t.form.couponDiscount,callback:function(e){t.$set(t.form,"couponDiscount",e)},expression:"form.couponDiscount"}}),o("span",{staticClass:"describe"},[t._v("请输入0-10之间数字，可以输入一位小数")])],1):t._e(),"PRICE"==t.form.couponType?o("FormItem",{attrs:{label:"面额",prop:"price"}},[o("Input",{staticStyle:{width:"260px"},attrs:{disabled:t.disabled,type:"text",placeholder:"面额",clearable:""},model:{value:t.form.price,callback:function(e){t.$set(t.form,"price",e)},expression:"form.price"}})],1):t._e(),o("FormItem",{attrs:{label:"活动类型",prop:"getType"}},[o("Select",{staticStyle:{width:"260px"},attrs:{disabled:t.disabled},model:{value:t.form.getType,callback:function(e){t.$set(t.form,"getType",e)},expression:"form.getType"}},[o("Option",{attrs:{value:"FREE"}},[t._v("免费领取")]),o("Option",{attrs:{value:"ACTIVITY"}},[t._v("活动赠送")])],1)],1),o("FormItem",{attrs:{label:"店铺承担比例",prop:"storeCommission"}},[o("Input",{staticStyle:{width:"260px"},attrs:{disabled:t.disabled,placeholder:"店铺承担比例"},model:{value:t.form.storeCommission,callback:function(e){t.$set(t.form,"storeCommission",e)},expression:"form.storeCommission"}},[o("span",{attrs:{slot:"append"},slot:"append"},[t._v("%")])]),o("span",{staticClass:"describe"},[t._v("店铺承担比例，输入0-100之间数值")])],1),"FREE"===t.form.getType?o("FormItem",{attrs:{label:"发放数量",prop:"publishNum"}},[o("Input",{staticStyle:{width:"260px"},attrs:{disabled:t.disabled,placeholder:"发放数量"},model:{value:t.form.publishNum,callback:function(e){t.$set(t.form,"publishNum",e)},expression:"form.publishNum"}}),o("div",{staticClass:"tips"},[t._v("如果发放数量为0时,则代表不限制发放数量")])],1):t._e(),"FREE"===t.form.getType?o("FormItem",{attrs:{label:"领取数量限制",prop:"couponLimitNum"}},[o("Input",{staticStyle:{width:"260px"},attrs:{disabled:t.disabled,placeholder:"领取限制",clearable:""},model:{value:t.form.couponLimitNum,callback:function(e){t.$set(t.form,"couponLimitNum",e)},expression:"form.couponLimitNum"}}),o("div",{staticClass:"tips"},[t._v("如果领取数量为0时,则代表不限制领取数量")])],1):t._e(),o("FormItem",{attrs:{label:"范围描述",prop:"description"}},[o("Input",{staticStyle:{width:"260px"},attrs:{disabled:t.disabled,type:"textarea",rows:4,maxlength:"50","show-word-limit":"",clearable:""},model:{value:t.form.description,callback:function(e){t.$set(t.form,"description",e)},expression:"form.description"}})],1)],1),o("h4",[t._v("使用限制")]),o("div",{staticClass:"form-item-view"},[o("FormItem",{attrs:{label:"消费门槛",prop:"consumeThreshold"}},[o("Input",{staticStyle:{width:"260px"},attrs:{disabled:t.disabled,type:"text",placeholder:"消费门槛",clearable:""},model:{value:t.form.consumeThreshold,callback:function(e){t.$set(t.form,"consumeThreshold",e)},expression:"form.consumeThreshold"}})],1),o("FormItem",{attrs:{label:"有效期",prop:"rangeTime"}},["ACTIVITY"==t.form.getType?o("div",[o("RadioGroup",{model:{value:t.rangeTimeType,callback:function(e){t.rangeTimeType=e},expression:"rangeTimeType"}},[o("Radio",{attrs:{disabled:t.disabled,label:1}},[t._v("起止时间")]),o("Radio",{attrs:{disabled:t.disabled,label:0}},[t._v("固定时间")])],1)],1):t._e(),1==t.rangeTimeType?o("div",[o("DatePicker",{staticStyle:{width:"260px"},attrs:{disabled:t.disabled,type:"datetimerange",format:"yyyy-MM-dd HH:mm:ss",placeholder:"请选择",options:t.options},model:{value:t.form.rangeTime,callback:function(e){t.$set(t.form,"rangeTime",e)},expression:"form.rangeTime"}})],1):t._e(),0==t.rangeTimeType?o("div",{staticClass:"effectiveDays"},[t._v(" 领取当天开始 "),o("InputNumber",{staticStyle:{width:"100px"},attrs:{min:1,max:365},model:{value:t.form.effectiveDays,callback:function(e){t.$set(t.form,"effectiveDays",e)},expression:"form.effectiveDays"}}),t._v(" 天内有效(1-365间的整数) ")],1):t._e()]),o("FormItem",{attrs:{label:"使用范围",prop:"scopeType"}},[o("RadioGroup",{attrs:{type:"button","button-style":"solid"},model:{value:t.form.scopeType,callback:function(e){t.$set(t.form,"scopeType",e)},expression:"form.scopeType"}},[o("Radio",{attrs:{disabled:t.disabled,label:"ALL"}},[t._v("全品类")]),o("Radio",{attrs:{disabled:t.disabled,label:"PORTION_GOODS"}},[t._v("指定商品")]),o("Radio",{attrs:{disabled:t.disabled,label:"PORTION_GOODS_CATEGORY"}},[t._v("部分商品分类")])],1)],1),"PORTION_GOODS"==t.form.scopeType?o("FormItem",{staticStyle:{width:"100%"}},[o("div",{staticStyle:{display:"flex","margin-bottom":"10px"}},[o("Button",{attrs:{disabled:t.disabled,type:"primary"},on:{click:t.openSkuList}},[t._v("选择商品")]),o("Button",{staticStyle:{"margin-left":"10px"},attrs:{disabled:t.disabled,type:"error",ghost:""},on:{click:t.delSelectGoods}},[t._v("批量删除")])],1),o("Table",{attrs:{border:"",columns:t.columns,data:t.form.promotionGoodsList},on:{"on-selection-change":t.changeSelect},scopedSlots:t._u([{key:"QRCode",fn:function(e){e=e.row;return[o("img",{attrs:{src:e.QRCode||"../../../assets/lili.png",width:"50px",height:"50px",alt:""}})]}}],null,!1,966629859)})],1):t._e(),"PORTION_GOODS_CATEGORY"==t.form.scopeType?o("FormItem",[o("Cascader",{staticStyle:{width:"260px"},attrs:{disabled:t.disabled,data:t.goodsCategoryList},model:{value:t.form.scopeIdGoods,callback:function(e){t.$set(t.form,"scopeIdGoods",e)},expression:"form.scopeIdGoods"}})],1):t._e(),o("div",[o("Button",{attrs:{disabled:t.disabled,type:"text"},on:{click:t.closeCurrentPage}},[t._v("返回")]),o("Button",{attrs:{disabled:t.disabled,type:"primary",loading:t.submitLoading},on:{click:t.handleSubmit}},[t._v("提交")])],1)],1)])])],1),o("sku-select",{ref:"skuSelect",on:{selectedGoodsData:t.selectedGoodsData}})],1)},[],!1,null,null,null);t.default=o.exports},cfa3:function(e,t,o){},ed08:function(e,t,o){"use strict";o.d(t,"a",function(){return r});var r={},n=(o.r(r),o.d(r,"qq",function(){return n}),o.d(r,"name",function(){return i}),o.d(r,"mobile",function(){return a}),o.d(r,"email",function(){return s}),o.d(r,"password",function(){return c}),o.d(r,"integer",function(){return l}),o.d(r,"Integer",function(){return u}),o.d(r,"discount",function(){return d}),o.d(r,"rate",function(){return p}),o.d(r,"money",function(){return m}),o.d(r,"IDCard",function(){return f}),o.d(r,"userName",function(){return h}),o.d(r,"URL",function(){return y}),o.d(r,"TEL",function(){return g}),o.d(r,"INTEGER",function(){return v}),o.d(r,"NUMBER",function(){return b}),o.d(r,"VARCHAR5",function(){return T}),o.d(r,"VARCHAR20",function(){return w}),o.d(r,"VARCHAR255",function(){return I}),o.d(r,"URL200",function(){return x}),o.d(r,"REQUIRED",function(){return L}),/^[1-9][0-9]{4,14}$/),i=/^[\u4e00-\u9fa5]{0,}$/,a=/^0?(13[0-9]|14[0-9]|15[0-9]|16[0-9]|17[0-9]|18[0-9]|19[0-9])[0-9]{8}$/,s=/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/,c=/^[@A-Za-z0-9!#$%^&*.~,]{6,20}$/,l=/^[1-9]\d*$/,u=/^[0-9]\d*$/,d=/^((0\.[1-9]{1})|(([1-9]{1})(\.\d{1})?))$/,p=/^([0-9]{1,2}|100)$/,m=/(^[1-9]([0-9]+)?(\.[0-9]{1,2})?$)|(^(0){1}$)|(^[0-9]\.[0-9]([0-9])?$)/,f=/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/,h=/[A-Za-z0-9_\-\u4e00-\u9fa5]$/,y=/^(https?|ftp):\/\/([a-zA-Z0-9.-]+(:[a-zA-Z0-9.&%$-]+)*@)*((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]?)(\.(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9]?[0-9])){3}|([a-zA-Z0-9-]+\.)*[a-zA-Z0-9-]+\.(com|edu|gov|int|mil|net|org|biz|arpa|info|name|pro|aero|coop|museum|[a-zA-Z]{2}))(:[0-9]+)*(\/($|[a-zA-Z0-9.,?'\\+&%$#=~_-]+))*$/,g=/0\d{2,3}-\d{7,8}/,v={pattern:/^[0-9]\d{0,10}|0$/,message:"请输入正整数"},b={pattern:/^(\-|\+)?\d{0,10}$/,message:"请输入数字"},T={pattern:/^.{1,5}$/,message:"长度应该限制在1-5个字符"},w={pattern:/^.{1,20}$/,message:"长度应该限制在1-20个字符"},I={pattern:/^.{1,255}$/,message:"超出最大长度限制"},x={pattern:/[a-zA-z]+\:\/\/[^\s]{1,190}/,message:"请输入长度不超过200的URL地址"},L={required:!0,message:"请填写参数"}}}]);