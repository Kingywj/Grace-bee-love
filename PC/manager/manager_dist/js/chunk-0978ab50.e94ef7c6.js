(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-0978ab50"],{"21d2":function(t,e,i){"use strict";i.d(e,"f",function(){return a}),i.d(e,"a",function(){return n}),i.d(e,"i",function(){return s}),i.d(e,"h",function(){return o}),i.d(e,"g",function(){return u}),i.d(e,"e",function(){return c}),i.d(e,"c",function(){return l}),i.d(e,"d",function(){return d}),i.d(e,"b",function(){return h});var r=i("7f80"),a=function(t){return Object(r.c)("/distribution/distribution/getByPage",t)},n=function(t,e){return Object(r.k)("/distribution/distribution/audit/".concat(t),e)},s=function(t,e){return Object(r.k)("/distribution/distribution/retreat/".concat(t),e)},o=function(t,e){return Object(r.k)("/distribution/distribution/resume/".concat(t),e)},u=function(t){return Object(r.c)("/distribution/order/getByPage",t)},c=function(t){return Object(r.c)("/distribution/goods/getByPage",t)},l=function(t){return Object(r.b)("/distribution/goods/delByIds/".concat(t))},d=function(t){return Object(r.c)("/distribution/cash/getByPage",t)},h=function(t,e){return Object(r.g)("/distribution/cash/audit/".concat(t),e)}},"2a97":function(t,e,i){t.exports=i.p+"img/qrcode.26457031.svg"},"8f91":function(t,e,i){},"96b0":function(t,e,i){"use strict";i.d(e,"b",function(){return r}),i.d(e,"a",function(){return a}),i.d(e,"c",function(){return n});var r=[{value:"APPLY",label:"申请中"},{value:"RETREAT",label:"已清退"},{value:"REFUSE",label:"审核拒绝"},{value:"PASS",label:"审核通过"}],a=[{value:"APPLY",label:"待处理"},{value:"FAIL_AUDITING",label:"拒绝"},{value:"VIA_AUDITING",label:"通过"}],n=[{value:"WAIT_BILL",label:"待结算"},{value:"WAIT_CASH",label:"待提现"},{value:"COMPLETE_CASH",label:"提现完成"}]},a44f:function(t,e,i){"use strict";i("8f91")},abf5:function(t,e,a){"use strict";a.r(e);var r=a("21d2"),n=a("96b0"),s=a("0959"),i=a("658f"),i={name:"distributionOrder",components:{"vue-qr":a.n(i).a},data:function(){var i=this;return{timeRange:[],orderStatusList:n.c,shopList:[],distributionId:this.$route.query.id,loading:!0,searchForm:{pageNumber:1,pageSize:10,sort:"create_time",order:"desc"},columns:[{title:"订单编号",key:"orderSn",minWidth:180,fixed:"left",tooltip:!0},{title:"商品信息",slot:"goodsMsg",minWidth:150},{title:"分销商",key:"distributionName",tooltip:!0,minWidth:80},{title:"店铺名称",key:"storeName",minWidth:80,tooltip:!0},{title:"状态",slot:"distributionOrderStatus",minWidth:80},{title:"佣金金额",key:"rebate",minWidth:80,sortable:!1,render:function(t,e){return null==e.row.rebate?t("div",i.$options.filters.unitPrice(0,"￥")):t("div",i.$options.filters.unitPrice(e.row.rebate,"￥"))}},{fixed:"right",title:"创建时间",key:"createTime",minWidth:100,sortable:!1}],data:[],total:0}},methods:{init:function(){this.getDataList(),this.getShopList()},changePage:function(t){this.searchForm.pageNumber=t,this.getDataList()},changePageSize:function(t){this.searchForm.pageSize=t,this.getDataList()},handleSearch:function(){this.searchForm.pageNumber=1,this.searchForm.pageSize=10,this.getDataList()},getDataList:function(){var t,e,i=this;this.searchForm.distributionId=this.distributionId,this.loading=!0,this.timeRange&&this.timeRange[0]&&(t=this.timeRange[0],e=this.timeRange[1],this.searchForm.startTime=this.$options.filters.unixToDate(t/1e3),this.searchForm.endTime=this.$options.filters.unixToDate(e/1e3)),Object(r.g)(this.searchForm).then(function(t){i.loading=!1,t.success&&(i.data=t.result.records,i.total=t.result.total)}),this.total=this.data.length,this.loading=!1},getShopList:function(t){var e=this,i={pageNumber:1,pageSize:10,storeName:""};i.storeName=t||"",Object(s.h)(i).then(function(t){e.shopList=t.result.records})},searchChange:function(t){this.getShopList(t)},filterStatus:function(t){for(var e=[{status:"WAIT_BILL",title:"待结算"},{status:"WAIT_CASH",title:"待提现"},{status:"COMPLETE_CASH",title:"提现完成"},{status:"CANCEL",title:"订单取消"},{status:"REFUND",title:"退款"}],i=0;i<e.length;i++)if(e[i].status===t)return e[i].title},filterStatusColor:function(t){for(var e=[{status:"WAIT_BILL",color:"blue"},{status:"WAIT_CASH",color:"orange"},{status:"COMPLETE_CASH",color:"green"},{status:"CANCEL",color:"red"},{status:"REFUND",color:"magenta"}],i=0;i<e.length;i++)if(e[i].status===t)return e[i].color}},mounted:function(){this.init()},watch:{$route:function(t){this.distributionId=t.query.id||void 0,this.getDataList()}}},o=(a("a44f"),a("2877")),o=Object(o.a)(i,function(){var i=this,r=i._self._c;return r("div",[r("Card",[r("Form",{ref:"searchForm",staticClass:"search-form",attrs:{model:i.searchForm,inline:"","label-width":70},nativeOn:{keydown:function(t){return!t.type.indexOf("key")&&i._k(t.keyCode,"enter",13,t.key,"Enter")?null:i.handleSearch.apply(null,arguments)}}},[r("Form-item",{attrs:{label:"订单编号",prop:"orderSn"}},[r("Input",{staticStyle:{width:"200px"},attrs:{type:"text",placeholder:"请输入订单编号",clearable:""},model:{value:i.searchForm.orderSn,callback:function(t){i.$set(i.searchForm,"orderSn",t)},expression:"searchForm.orderSn"}})],1),r("Form-item",{attrs:{label:"分销商",prop:"distributionName"}},[r("Input",{staticStyle:{width:"200px"},attrs:{type:"text",placeholder:"请输入分销商名称",clearable:""},model:{value:i.searchForm.distributionName,callback:function(t){i.$set(i.searchForm,"distributionName",t)},expression:"searchForm.distributionName"}})],1),r("Form-item",{attrs:{label:"店铺名称"}},[r("Select",{staticStyle:{width:"150px"},attrs:{placeholder:"请选择",filterable:"",clearable:""},on:{"on-query-change":i.searchChange},model:{value:i.searchForm.storeId,callback:function(t){i.$set(i.searchForm,"storeId",t)},expression:"searchForm.storeId"}},i._l(i.shopList,function(t){return r("Option",{key:t.id,attrs:{value:t.id}},[i._v(i._s(t.storeName))])}),1)],1),r("Form-item",{attrs:{label:"订单时间"}},[r("DatePicker",{staticStyle:{width:"210px"},attrs:{type:"daterange",format:"yyyy-MM-dd",placeholder:"选择时间"},model:{value:i.timeRange,callback:function(t){i.timeRange=t},expression:"timeRange"}})],1),r("Button",{staticClass:"search-btn",attrs:{type:"primary",icon:"ios-search"},on:{click:i.handleSearch}},[i._v("搜索")])],1),r("Table",{ref:"table",staticClass:"mt_10",attrs:{loading:i.loading,border:"",columns:i.columns,data:i.data},scopedSlots:i._u([{key:"goodsMsg",fn:function(t){var e=t.row;return[r("div",{staticClass:"goods-msg"},[r("img",{attrs:{src:e.image,width:"60",height:"60",alt:""}}),r("div",[r("div",{staticClass:"div-zoom"},[r("a",{on:{click:function(t){return i.linkTo(e.goodsId,e.skuId)}}},[i._v(i._s(e.goodsName))])]),r("div",{staticStyle:{color:"#999","font-size":"10px"}},[i._v("数量：x"+i._s(e.num))]),r("Poptip",{attrs:{trigger:"hover",title:"扫码在手机中查看",transfer:""}},[r("div",{attrs:{slot:"content"},slot:"content"},[r("vue-qr",{attrs:{text:i.wapLinkTo(e.goodsId,e.skuId),margin:0,colorDark:"#000",colorLight:"#fff",size:150}})],1),r("img",{staticClass:"hover-pointer",attrs:{src:a("2a97"),width:"20",height:"20",alt:""}})])],1)])]}},{key:"distributionOrderStatus",fn:function(t){t=t.row;return[r("Tag",{attrs:{color:i.filterStatusColor(t.distributionOrderStatus)}},[i._v(i._s(i.filterStatus(t.distributionOrderStatus)))])]}}])}),r("Row",{staticClass:"mt_10",attrs:{type:"flex",justify:"end"}},[r("Page",{attrs:{current:i.searchForm.pageNumber,total:i.total,"page-size":i.searchForm.pageSize,"page-size-opts":[10,20,50],size:"small","show-total":"","show-elevator":"","show-sizer":""},on:{"on-change":i.changePage,"on-page-size-change":i.changePageSize}})],1)],1)],1)},[],!1,null,null,null);e.default=o.exports}}]);