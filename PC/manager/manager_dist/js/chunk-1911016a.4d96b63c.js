(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-1911016a"],{"21d2":function(t,e,i){"use strict";i.d(e,"f",function(){return o}),i.d(e,"a",function(){return r}),i.d(e,"i",function(){return s}),i.d(e,"h",function(){return a}),i.d(e,"g",function(){return c}),i.d(e,"e",function(){return l}),i.d(e,"c",function(){return u}),i.d(e,"d",function(){return d}),i.d(e,"b",function(){return h});var n=i("7f80"),o=function(t){return Object(n.c)("/distribution/distribution/getByPage",t)},r=function(t,e){return Object(n.k)("/distribution/distribution/audit/".concat(t),e)},s=function(t,e){return Object(n.k)("/distribution/distribution/retreat/".concat(t),e)},a=function(t,e){return Object(n.k)("/distribution/distribution/resume/".concat(t),e)},c=function(t){return Object(n.c)("/distribution/order/getByPage",t)},l=function(t){return Object(n.c)("/distribution/goods/getByPage",t)},u=function(t){return Object(n.b)("/distribution/goods/delByIds/".concat(t))},d=function(t){return Object(n.c)("/distribution/cash/getByPage",t)},h=function(t,e){return Object(n.g)("/distribution/cash/audit/".concat(t),e)}},"2a97":function(t,e,i){t.exports=i.p+"img/qrcode.26457031.svg"},ce3e:function(t,e,o){"use strict";o.r(e);var n=o("21d2"),i=o("658f"),i={components:{"vue-qr":o.n(i).a},name:"distributionGoods",data:function(){var i=this;return{loading:!0,searchForm:{pageNumber:1,pageSize:10,sort:"createTime",order:"desc"},selectList:[],selectCount:0,columns:[{type:"selection",width:60,align:"center",fixed:"left"},{title:"商品图片",fixed:"left",key:"thumbnail",width:120,align:"center",render:function(t,e){return t("img",{attrs:{src:e.row.thumbnail||"",alt:"加载图片失败"},style:{cursor:"pointer",width:"80px",height:"60px",margin:"10px 0","object-fit":"contain"}})}},{title:"商品名称",slot:"goodsName",minWidth:200,tooltip:!0},{title:"商品价格",key:"price",minWidth:100,render:function(t,e){return t("div",i.$options.filters.unitPrice(e.row.price,"￥"))}},{title:"库存",key:"quantity",minWidth:80},{title:"添加时间",key:"createTime",minWidth:100},{title:"店铺名称",key:"storeName",minWidth:100,tooltip:!0},{title:"佣金金额",key:"commission",minWidth:100,sortable:!1,render:function(t,e){return t("div",i.$options.filters.unitPrice(e.row.commission,"￥"))}},{title:"操作",key:"action",align:"center",fixed:"right",minWidth:100,render:function(t,e){return t("div",[t("Button",{props:{type:"error",size:"small"},on:{click:function(){i.remove(e.row)}}},"下架")])}}],data:[],total:0}},methods:{init:function(){this.getDataList()},changePage:function(t){this.searchForm.pageNumber=t,this.getDataList(),this.clearSelectAll()},changePageSize:function(t){this.searchForm.pageSize=t,this.getDataList()},handleSearch:function(){this.searchForm.pageNumber=1,this.searchForm.pageSize=10,this.getDataList()},clearSelectAll:function(){this.$refs.table.selectAll(!1)},changeSelect:function(t){this.selectList=t,this.selectCount=t.length},getDataList:function(){var e=this;this.loading=!0,Object(n.e)(this.searchForm).then(function(t){e.loading=!1,t.success&&(e.data=t.result.records,e.total=t.result.total)}),this.total=this.data.length,this.loading=!1},remove:function(t){var e=this;this.$Modal.confirm({title:"确认下架",content:"您确认要下架么?",loading:!0,onOk:function(){Object(n.c)(t.id).then(function(t){e.$Modal.remove(),t.success&&(e.$Message.success("下架成功"),e.getDataList())})}})},delAll:function(){var i=this;this.selectCount<=0?this.$Message.warning("您还未选择要下架的数据"):this.$Modal.confirm({title:"确认下架",content:"您确认要下架所选的 "+this.selectCount+" 条数据?",loading:!0,onOk:function(){var e=[];i.selectList.forEach(function(t){e.push(t.id)}),Object(n.c)(e.toString()).then(function(t){i.$Modal.remove(),t.success&&(i.$Message.success("下架成功"),i.clearSelectAll(),i.getDataList())})}})}},mounted:function(){this.init()}},r=o("2877"),r=Object(r.a)(i,function(){var i=this,n=i._self._c;return n("div",[n("Card",[n("Form",{ref:"searchForm",staticClass:"search-form",attrs:{model:i.searchForm,inline:"","label-width":70},nativeOn:{keydown:function(t){return!t.type.indexOf("key")&&i._k(t.keyCode,"enter",13,t.key,"Enter")?null:i.handleSearch.apply(null,arguments)}}},[n("Form-item",{attrs:{label:"商品名称",prop:"goodsName"}},[n("Input",{staticStyle:{width:"200px"},attrs:{type:"text",placeholder:"请输入商品名称",clearable:""},model:{value:i.searchForm.goodsName,callback:function(t){i.$set(i.searchForm,"goodsName",t)},expression:"searchForm.goodsName"}})],1),n("Button",{staticClass:"search-btn",attrs:{type:"primary",icon:"ios-search"},on:{click:i.handleSearch}},[i._v("搜索")])],1),n("Row",{staticClass:"operation",staticStyle:{margin:"10px 0"}},[n("Button",{attrs:{type:"primary"},on:{click:i.delAll}},[i._v("批量下架")])],1),n("Table",{ref:"table",attrs:{loading:i.loading,border:"",columns:i.columns,data:i.data,sortable:"custom"},on:{"on-selection-change":i.changeSelect},scopedSlots:i._u([{key:"goodsName",fn:function(t){var e=t.row;return[n("div",[n("div",{staticClass:"div-zoom"},[n("a",{on:{click:function(t){return i.linkTo(e.goodsId,e.skuId)}}},[i._v(i._s(e.goodsName))])]),n("Poptip",{attrs:{trigger:"hover",title:"扫码在手机中查看",transfer:""}},[n("div",{attrs:{slot:"content"},slot:"content"},[n("vue-qr",{attrs:{text:i.wapLinkTo(e.goodsId,e.skuId),margin:0,colorDark:"#000",colorLight:"#fff",size:150}})],1),n("img",{staticClass:"hover-pointer",attrs:{src:o("2a97"),width:"20",height:"20",alt:""}})])],1)]}}])}),n("Row",{staticClass:"mt_10",attrs:{type:"flex",justify:"end"}},[n("Page",{attrs:{current:i.searchForm.pageNumber,total:i.total,"page-size":i.searchForm.pageSize,"page-size-opts":[10,20,50],size:"small","show-total":"","show-elevator":"","show-sizer":""},on:{"on-change":i.changePage,"on-page-size-change":i.changePageSize}})],1)],1)],1)},[],!1,null,null,null);e.default=r.exports}}]);