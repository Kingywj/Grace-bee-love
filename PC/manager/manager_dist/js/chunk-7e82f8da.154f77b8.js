(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-7e82f8da"],{"21d2":function(t,e,i){"use strict";i.d(e,"f",function(){return r}),i.d(e,"a",function(){return s}),i.d(e,"i",function(){return n}),i.d(e,"h",function(){return o}),i.d(e,"g",function(){return l}),i.d(e,"e",function(){return u}),i.d(e,"c",function(){return c}),i.d(e,"d",function(){return d}),i.d(e,"b",function(){return m});var a=i("7f80"),r=function(t){return Object(a.c)("/distribution/distribution/getByPage",t)},s=function(t,e){return Object(a.k)("/distribution/distribution/audit/".concat(t),e)},n=function(t,e){return Object(a.k)("/distribution/distribution/retreat/".concat(t),e)},o=function(t,e){return Object(a.k)("/distribution/distribution/resume/".concat(t),e)},l=function(t){return Object(a.c)("/distribution/order/getByPage",t)},u=function(t){return Object(a.c)("/distribution/goods/getByPage",t)},c=function(t){return Object(a.b)("/distribution/goods/delByIds/".concat(t))},d=function(t){return Object(a.c)("/distribution/cash/getByPage",t)},m=function(t,e){return Object(a.g)("/distribution/cash/audit/".concat(t),e)}},5950:function(t,e,i){"use strict";i.r(e);var a=i("21d2"),r=i("96b0"),s={name:"distributionCash",data:function(){var i=this;return{cashStatusList:r.a,loading:!0,modalVisible:!1,modalTitle:"",result:"FAIL_AUDITING",searchForm:{pageNumber:1,pageSize:10,sort:"createTime",order:"desc"},handleStatus:"edit",form:{sn:"",memberName:"",price:""},submitLoading:!1,columns:[{title:"编号",key:"sn",minWidth:200},{title:"会员名称",key:"distributionName",minWidth:120},{title:"申请金额",key:"price",minWidth:90,render:function(t,e){return t("div",i.$options.filters.unitPrice(e.row.price,"￥"))}},{title:"申请时间",key:"createTime",minWidth:130},{title:"处理时间",key:"updateTime",minWidth:130},{title:"状态",key:"distributionCashStatus",minWidth:100,render:function(t,e){return"APPLY"==e.row.distributionCashStatus?t("div","待处理"):"VIA_AUDITING"==e.row.distributionCashStatus?t("div","通过"):"FAIL_AUDITING"==e.row.distributionCashStatus?t("div","审核拒绝"):void 0}},{title:"操作",key:"action",align:"center",fixed:"right",width:130,render:function(t,e){return"APPLY"!=e.row.distributionCashStatus?t("div",[t("Button",{props:{type:"success",size:"small"},style:{marginRight:"5px"},on:{click:function(){i.view(e.row)}}},"查看")]):t("div",[t("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){i.edit(e.row)}}},"审核")])}}],data:[],total:0}},methods:{init:function(){this.getDataList()},changePage:function(t){this.searchForm.pageNumber=t,this.getDataList()},changePageSize:function(t){this.searchForm.pageSize=t,this.getDataList()},handleSearch:function(){this.searchForm.pageNumber=1,this.searchForm.pageSize=10,this.getDataList()},getDataList:function(){var e=this;this.loading=!0,Object(a.d)(this.searchForm).then(function(t){e.loading=!1,t.success&&(e.data=t.result.records,e.total=t.result.total)}),this.total=this.data.length,this.loading=!1},handleSubmit:function(){var e=this,i="拒绝";"VIA_AUDITING"==this.result&&(i="通过"),this.$refs.form.validate(function(t){t&&e.$Modal.confirm({title:"确认审核",content:"您确认要审核"+i+"么?",loading:!0,onOk:function(){Object(a.b)(e.form.id,{result:e.result}).then(function(t){t.success&&(e.$Modal.remove(),e.$Message.success("审核成功"),e.getDataList()),e.modalVisible=!1})}})})},edit:function(t){for(var e in this.modalTitle="审核",this.handleStatus="edit",this.$refs.form.resetFields(),t)null===t[e]&&(t[e]="");this.form=JSON.parse(JSON.stringify(t)),this.modalVisible=!0},view:function(t){for(var e in this.modalTitle="查看",this.handleStatus="view",this.$refs.form.resetFields(),t)null===t[e]&&(t[e]="");var i=JSON.stringify(t),i=JSON.parse(i);this.form=i,this.modalVisible=!0}},mounted:function(){this.init()}},i=i("2877"),i=Object(i.a)(s,function(){var e=this,i=e._self._c;return i("div",[i("Card",[i("Form",{ref:"searchForm",staticClass:"search-form",attrs:{model:e.searchForm}},[i("Form-item",{staticClass:"flex",attrs:{label:"会员名称",prop:"memberName"}},[i("Input",{staticStyle:{width:"200px"},attrs:{type:"text",clearable:""},model:{value:e.searchForm.memberName,callback:function(t){e.$set(e.searchForm,"memberName",t)},expression:"searchForm.memberName"}})],1),i("Form-item",{staticClass:"flex",attrs:{label:"编号"}},[i("Input",{staticStyle:{width:"200px"},attrs:{type:"text",clearable:""},model:{value:e.searchForm.sn,callback:function(t){e.$set(e.searchForm,"sn",t)},expression:"searchForm.sn"}})],1),i("Form-item",{staticStyle:{width:"200px"},attrs:{label:"状态"}},[i("Select",{staticStyle:{width:"150px"},attrs:{clearable:""},model:{value:e.searchForm.distributionCashStatus,callback:function(t){e.$set(e.searchForm,"distributionCashStatus",t)},expression:"searchForm.distributionCashStatus"}},e._l(e.cashStatusList,function(t){return i("Option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.label))])}),1)],1),i("Form-item",[i("Button",{attrs:{type:"primary"},on:{click:e.handleSearch}},[e._v("搜索")])],1)],1),i("Table",{ref:"table",staticClass:"mt_10",attrs:{loading:e.loading,border:"",columns:e.columns,data:e.data}}),i("Row",{staticClass:"page padding-row",attrs:{type:"flex",justify:"end"}},[i("Page",{attrs:{current:e.searchForm.pageNumber,total:e.total,"page-size":e.searchForm.pageSize,"page-size-opts":[10,20,50],size:"small","show-total":"","show-elevator":"","show-sizer":""},on:{"on-change":e.changePage,"on-page-size-change":e.changePageSize}})],1)],1),i("Modal",{attrs:{title:e.modalTitle,"mask-closable":!1,width:500},model:{value:e.modalVisible,callback:function(t){e.modalVisible=t},expression:"modalVisible"}},[i("Form",{ref:"form",attrs:{model:e.form,"label-width":100}},[i("FormItem",{attrs:{label:"编号"}},[i("Input",{staticStyle:{width:"100%"},attrs:{disabled:"",clearable:""},model:{value:e.form.sn,callback:function(t){e.$set(e.form,"sn",t)},expression:"form.sn"}})],1),i("FormItem",{attrs:{label:"会员名称"}},[i("Input",{staticStyle:{width:"100%"},attrs:{disabled:"",clearable:""},model:{value:e.form.distributionName,callback:function(t){e.$set(e.form,"distributionName",t)},expression:"form.distributionName"}})],1),i("FormItem",{attrs:{label:"金额"}},[i("Input",{staticStyle:{width:"100%"},attrs:{disabled:"",clearable:""},model:{value:e.form.price,callback:function(t){e.$set(e.form,"price",t)},expression:"form.price"}})],1),"edit"==e.handleStatus?i("FormItem",{attrs:{label:"是否通过",prop:"result"}},[i("RadioGroup",{attrs:{type:"button","button-style":"solid"},model:{value:e.result,callback:function(t){e.result=t},expression:"result"}},[i("Radio",{attrs:{label:"VIA_AUDITING"}},[e._v("通过")]),i("Radio",{attrs:{label:"FAIL_AUDITING"}},[e._v("拒绝")])],1)],1):e._e()],1),"edit"==e.handleStatus?i("div",{attrs:{slot:"footer"},slot:"footer"},[i("Button",{attrs:{type:"text"},on:{click:function(t){e.modalVisible=!1}}},[e._v("取消")]),i("Button",{attrs:{type:"primary",loading:e.submitLoading},on:{click:e.handleSubmit}},[e._v("提交")])],1):e._e()],1)],1)},[],!1,null,null,null);e.default=i.exports},"96b0":function(t,e,i){"use strict";i.d(e,"b",function(){return a}),i.d(e,"a",function(){return r}),i.d(e,"c",function(){return s});var a=[{value:"APPLY",label:"申请中"},{value:"RETREAT",label:"已清退"},{value:"REFUSE",label:"审核拒绝"},{value:"PASS",label:"审核通过"}],r=[{value:"APPLY",label:"待处理"},{value:"FAIL_AUDITING",label:"拒绝"},{value:"VIA_AUDITING",label:"通过"}],s=[{value:"WAIT_BILL",label:"待结算"},{value:"WAIT_CASH",label:"待提现"},{value:"COMPLETE_CASH",label:"提现完成"}]}}]);