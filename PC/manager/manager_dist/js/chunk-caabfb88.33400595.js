(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-caabfb88"],{"902b":function(t,e,n){},bfb4:function(t,e,n){"use strict";n.d(e,"k",function(){return a}),n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o}),n.d(e,"l",function(){return r}),n.d(e,"i",function(){return c}),n.d(e,"h",function(){return u}),n.d(e,"f",function(){return l}),n.d(e,"j",function(){return h}),n.d(e,"g",function(){return f}),n.d(e,"c",function(){return p}),n.d(e,"d",function(){return b}),n.d(e,"e",function(){return d});var s=n("7f80"),a=function(t){return Object(s.g)("/other/pageData/add",t)},i=function(t){return Object(s.c)("/other/pageData/".concat(t))},o=function(t){return Object(s.c)("/other/pageData/pageDataList",t)},r=function(t,e){return Object(s.k)("/other/pageData/update/".concat(t),e)},c=function(t){return Object(s.b)("/other/pageData/remove/".concat(t))},u=function(t){return Object(s.k)("/other/pageData/release/".concat(t))},l=function(t){return Object(s.c)("/other/message",t)},h=function(t){return Object(s.g)("/other/message",t)},f=function(t){return Object(s.c)("/other/storeMessage",t)},p=function(t){return Object(s.c)("/other/feedback",t)},b=function(t){return Object(s.c)("/other/feedback/".concat(t))},d=function(t){return Object(s.c)("/other/memberMessage",t)}},e235:function(t,e,n){"use strict";n("902b")},e51e:function(t,e,n){"use strict";n.r(e);var s=n("bfb4"),a={data:function(){return{progress:!0,num:20,saveDialog:!1,way:[{title:"首页",name:"index",selected:!0}],submitWay:{pageShow:this.$route.query.type||!1,name:this.$route.query.name||"模板名称",pageClientType:"H5"}}},watch:{},mounted:function(){},methods:{clickBtn:function(t){this.way.forEach(function(t,e){t.selected=!1}),t.selected=!0,this.$emit("selected",t.name)},handleSpinShow:function(){this.saveDialog=!0},save:function(){var t;if(null==this.$store.state.styleStore)return this.$Message.error("请装修楼层"),!1;!0===(null==(t=this.submitWay)?void 0:t.pageShow)?this.submitWay.pageShow="OPEN":this.submitWay.pageShow="CLOSE",this.submitWay.pageData=JSON.stringify(this.$store.state.styleStore),this.submitWay.pageType="INDEX",this.$route.query.id?this.update():this.submit(this.submitWay)},update:function(){var e=this;this.progress=!1,s.l(this.$route.query.id,{pageData:JSON.stringify(this.$store.state.styleStore),name:this.submitWay.name,pageShow:this.submitWay.pageShow,pageType:"INDEX",pageClientType:"H5"}).then(function(t){e.num=50,t.success?(e.num=80,setTimeout(function(){e.saveDialog=!1,e.$Message.success("修改成功"),e.goback()},1e3)):(e.saveDialog=!1,e.$Message.error("修改失败，请稍后重试"))}).catch(function(t){})},goback:function(){this.$router.push({path:"/decoration/wap"})},submit:function(t){var e=this;this.progress=!1,s.k(t).then(function(t){e.num=50,t.success?(e.num=80,setTimeout(function(){e.saveDialog=!1,e.$Message.success("保存成功"),e.goback()},1e3)):(e.progress=!0,e.saveDialog=!1,e.$Message.error("保存失败，请稍后重试"))}).catch(function(t){})}}},n=(n("e235"),n("2877")),n=Object(n.a)(a,function(){var n=this,s=n._self._c;return s("div",{staticClass:"model-title"},[s("div",[n._v("店铺装修")]),s("div",{staticClass:"btns"},n._l(n.way,function(e,t){return s("Button",{key:t,attrs:{size:"small",type:e.selected?"primary":""},on:{click:function(t){return n.clickBtn(e)}}},[n._v(" "+n._s(e.title)+" ")])}),1),s("div",{staticClass:"model-title-view-btn"},[s("Button",{attrs:{size:"default",type:"primary"},on:{click:n.handleSpinShow}},[n._v("保存模板")]),s("Modal",{attrs:{title:"保存中",closable:!0,"mask-closable":!1,"footer-hide":!0},model:{value:n.saveDialog,callback:function(t){n.saveDialog=t},expression:"saveDialog"}},[n.progress?s("div",[s("div",{staticClass:"model-item"},[n._v(" 模板名称 "),s("Input",{staticStyle:{width:"200px"},model:{value:n.submitWay.name,callback:function(t){n.$set(n.submitWay,"name",t)},expression:"submitWay.name"}})],1),s("div",{staticClass:"model-item"},[n._v(" 是否立即发布 "),s("i-switch",{model:{value:n.submitWay.pageShow,callback:function(t){n.$set(n.submitWay,"pageShow",t)},expression:"submitWay.pageShow"}},[s("span",{attrs:{slot:"open"},slot:"open"},[n._v("开")]),s("span",{attrs:{slot:"close"},slot:"close"},[n._v("关")])])],1),s("Button",{attrs:{type:"primary"},on:{click:function(t){return n.save()}}},[n._v("保存")])],1):s("Progress",{attrs:{percent:n.num,status:"active"}})],1)],1)])},[],!1,null,"bb7d6fce",null);e.default=n.exports}}]);