(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-d44f1246"],{"06c9":function(t,e,r){"use strict";function n(e,t){var r=!1;return e.$refs[t].validate(function(t){return t?r=!0:e.$Message.error("请正确填写内容!"),r}),r}r.d(e,"a",function(){return n})},1776:function(t,e,r){"use strict";r("917d")},8517:function(t,e,r){"use strict";r.r(e);var n=r("365c"),a=r("06c9");function s(e,t){var r,n=Object.keys(e);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(e),t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)),n}function i(n){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?s(Object(a),!0).forEach(function(t){var e,r;e=n,r=a[t=t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(a,t))})}return n}var o={data:function(){return{ruleValidate:{},formValidate:{}}},props:["res","type"],created:function(){this.init()},methods:{submit:function(t){Object(a.a)(this,t)&&this.setupSetting()},setupSetting:function(){var e=this;Object(n.hb)(this.type,this.formValidate).then(function(t){t.success?e.$Message.success("保存成功!"):e.$Message.error("保存失败!")})},delSign:function(t,e){this.formValidate.pointSettingItems.splice(e,1)},addSign:function(){if(4<=this.formValidate.pointSettingItems.length)return this.$Message.error({content:"最多设置4项签到设置"}),!1;this.formValidate.pointSettingItems.push({point:"0",day:this.formValidate.pointSettingItems.length})},init:function(){var e=this;this.res=JSON.parse(this.res),Object.keys(this.res).map(function(t){if("pointSettingItems"==t)return!1;e.res[t]+=""}),this.$set(this,"formValidate",i({},this.res)),Object.keys(this.formValidate).forEach(function(t){e.ruleValidate[t]=[{required:!0,message:"请填写必填项",trigger:"blur"},{validator:function(t,e,r){e<0?r(new Error("不能输入负数！")):r()},trigger:"change"}]})}}},r=(r("1776"),r("2877")),r=Object(r.a)(o,function(){var n=this,t=n._self._c;return t("div",{staticClass:"layout"},[t("Form",{ref:"formValidate",attrs:{"label-width":150,"label-position":"right",model:n.formValidate,rules:n.ruleValidate}},[t("FormItem",{attrs:{label:"消费1元赠送积分",prop:"consumer"}},[t("Input",{attrs:{type:"number"},model:{value:n.formValidate.consumer,callback:function(t){n.$set(n.formValidate,"consumer",t)},expression:"formValidate.consumer"}},[t("span",{attrs:{slot:"append"},slot:"append"},[n._v("积分")])])],1),t("FormItem",{attrs:{label:"注册账号",prop:"register"}},[t("Input",{attrs:{type:"number"},model:{value:n.formValidate.register,callback:function(t){n.$set(n.formValidate,"register",t)},expression:"formValidate.register"}},[t("span",{attrs:{slot:"append"},slot:"append"},[n._v("积分")])])],1),t("FormItem",{attrs:{label:"每日签到积分",prop:"signIn"}},[t("Input",{attrs:{type:"number"},model:{value:n.formValidate.signIn,callback:function(t){n.$set(n.formValidate,"signIn",t)},expression:"formValidate.signIn"}},[t("span",{attrs:{slot:"append"},slot:"append"},[n._v("积分")])])],1),t("FormItem",{attrs:{label:"订单评价赠送积分",prop:"comment"}},[t("Input",{attrs:{type:"number"},model:{value:n.formValidate.comment,callback:function(t){n.$set(n.formValidate,"comment",t)},expression:"formValidate.comment"}},[t("span",{attrs:{slot:"append"},slot:"append"},[n._v("积分")])])],1),n._l(n.formValidate.pointSettingItems,function(e,r){return t("FormItem",{key:r,staticClass:"label-item",attrs:{label:"签到设置"+(r+1)}},[t("div",{staticClass:"label-item"},[t("InputNumber",{attrs:{min:1},model:{value:e.day,callback:function(t){n.$set(e,"day",t)},expression:"point.day"}}),t("InputNumber",{attrs:{min:0},model:{value:e.point,callback:function(t){n.$set(e,"point",t)},expression:"point.point"}}),t("Button",{attrs:{ghost:"",type:"error"},on:{click:function(t){return n.delSign(e,r)}}},[n._v("删除")]),t("span",{staticClass:"ml_10"},[n._v("签到"),t("span",{staticClass:"theme_color"},[n._v(n._s(e.day))]),n._v("天，赠送"),t("span",{staticClass:"theme_color"},[n._v(n._s(e.point))]),n._v("积分")])],1)])}),t("FormItem",{attrs:{label:"操作："}},[t("Button",{on:{click:n.addSign}},[n._v("新增签到")])],1),t("div",{staticClass:"label-btns"},[t("Button",{attrs:{type:"primary"},on:{click:function(t){return n.submit("formValidate")}}},[n._v("保存")])],1)],2)],1)},[],!1,null,"a4af9626",null);e.default=r.exports},"917d":function(t,e,r){}}]);