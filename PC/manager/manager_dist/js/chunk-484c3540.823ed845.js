(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-484c3540"],{5877:function(t,e,n){"use strict";n.r(e);var i=n("90e7"),r={name:"smsSign",components:{uploadPicThumb:n("e1bd").a},data:function(){return{id:0,form:{signName:"",businessLicense:"",license:""},loading:!1,formValidate:{signName:[{required:!0,message:"签名名称不能为空",trigger:"blur"}],remark:[{required:!0,message:"申请说明不能为空",trigger:"blur"}],businessLicense:[{required:!0,message:" ",trigger:"blur"}]},submitLoading:!1}},methods:{init:function(){this.id=this.$route.query.id,null!=this.id&&this.getSmsSignDetail()},addSignSubmit:function(){var e=this;""!=this.form.businessLicense&&""!=this.form.license?""!=this.form.signSource?this.$refs.form.validate(function(t){t&&(e.loading=!0,(null==e.id?i.a(e.form).then(function(t){e.loading=!1,t.success&&(e.$Message.success("添加成功"),e.$router.back())}):i.n(e.form).then(function(t){e.loading=!1,t.success&&(e.$Message.success("修改成功"),e.$router.back())})).catch(function(){e.loading=!1}))}):this.$Message.error("请选择签名来源"):this.$Message.error("请完善证件信息")},getSmsSignDetail:function(){var e=this;i.C(this.id).then(function(t){e.loading=!1,t.success&&(e.form=t.result)})}},mounted:function(){this.init()}},n=(n("e7ce"),n("2877")),n=Object(n.a)(r,function(){var e=this,t=e._self._c;return t("Card",[t("div",{staticStyle:{"margin-top":"0px"}},[t("div",{staticClass:"sign-name"},[e._v(" "+e._s(e.id?"修改签名":"新增签名")+" ")]),t("Form",{ref:"form",attrs:{model:e.form,"label-width":100,rules:e.formValidate}},[t("FormItem",{attrs:{label:"签名",prop:"signName"}},[t("Input",{staticStyle:{width:"28%"},attrs:{maxlength:"12",clearable:"",placeholder:"仅限2-12个字符，建议使用App应用名称或是网站名/公司名"},model:{value:e.form.signName,callback:function(t){e.$set(e.form,"signName",t)},expression:"form.signName"}})],1),t("FormItem",{attrs:{label:"签名来源",prop:"signSource"}},[t("Select",{staticStyle:{width:"28%"},attrs:{placeholder:"请选择签名来源"},model:{value:e.form.signSource,callback:function(t){e.$set(e.form,"signSource",t)},expression:"form.signSource"}},[t("Option",{attrs:{value:0}},[e._v("企事业单位的全称或简称")]),t("Option",{attrs:{value:1}},[e._v("工信部备案网站的全称或简称")]),t("Option",{attrs:{value:2}},[e._v("App应用的全称或简称")]),t("Option",{attrs:{value:3}},[e._v("公众号或小程序的全称或简称")]),t("Option",{attrs:{value:4}},[e._v("电商平台店铺名的全称或简称")]),t("Option",{attrs:{value:5}},[e._v("商标名的全称或简称")])],1)],1),t("div",{staticClass:"div-remark div-remark-first"},[e._v(" 签名来源选择工信部备案网站的全称或简称时，请在说明中添加网站域名，加快审核速度； ")]),t("div",{staticClass:"div-remark div-remark-bottom"},[e._v(" 如果选择APP应用的全称或简称或公众号或小程序的全称或简称，则网站、APP、小程序或公众号必须已上线； ")]),t("FormItem",{attrs:{label:"证明文件"}},[t("div",{staticStyle:{float:"left"}},[t("upload-pic-thumb",{attrs:{multiple:!1,"max-size":2048},model:{value:e.form.businessLicense,callback:function(t){e.$set(e.form,"businessLicense",t)},expression:"form.businessLicense"}})],1),t("div",{staticStyle:{float:"left","margin-left":"20px"}},[t("upload-pic-thumb",{attrs:{"max-size":2048,multiple:!1},model:{value:e.form.license,callback:function(t){e.$set(e.form,"license",t)},expression:"form.license"}})],1)]),t("div",{staticClass:"div-remark div-remark-first"},[e._v(" 第一张为营业执照，第二张为授权委托书，请上传签名归属方的企事业单位的企业营业执照、组织机构代码证、税务登记证三证合一的证件及授权委托书 ")]),t("div",{staticClass:"div-remark div-remark-bottom"},[e._v(" 支持jpg、png、gif、jpeg格式的图片，每张图片不大于2MB ")]),t("FormItem",{attrs:{label:"申请说明",prop:"remark"}},[t("Input",{staticStyle:{width:"50%"},attrs:{clearable:"",type:"textarea",maxlength:"100",autosize:{maxRows:4,minRows:4},"show-word-limit":"",placeholder:"请描述您的业务使用场景，不超过100字符；如：验证码、双十一大促营销"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1),t("div",{staticClass:"footer"},[t("Button",{attrs:{type:"primary",loading:e.submitLoading},on:{click:e.addSignSubmit}},[e._v("提交")])],1)],1)])},[],!1,null,"03242399",null);e.default=n.exports},"90e7":function(F,t,e){"use strict";e.d(t,"m",function(){return i}),e.d(t,"I",function(){return r}),e.d(t,"A",function(){return s}),e.d(t,"s",function(){return o}),e.d(t,"h",function(){return c}),e.d(t,"H",function(){return a}),e.d(t,"z",function(){return u}),e.d(t,"r",function(){return l}),e.d(t,"g",function(){return f}),e.d(t,"t",function(){return m}),e.d(t,"i",function(){return d}),e.d(t,"F",function(){return h}),e.d(t,"y",function(){return p}),e.d(t,"b",function(){return g}),e.d(t,"k",function(){return b}),e.d(t,"o",function(){return v}),e.d(t,"x",function(){return y}),e.d(t,"E",function(){return O}),e.d(t,"a",function(){return w}),e.d(t,"D",function(){return j}),e.d(t,"j",function(){return S}),e.d(t,"n",function(){return k}),e.d(t,"C",function(){return $}),e.d(t,"e",function(){return M}),e.d(t,"d",function(){return x}),e.d(t,"q",function(){return L}),e.d(t,"l",function(){return P}),e.d(t,"w",function(){return _}),e.d(t,"B",function(){return I}),e.d(t,"v",function(){return C}),e.d(t,"f",function(){return V}),e.d(t,"c",function(){return E}),e.d(t,"p",function(){return D}),e.d(t,"G",function(){return q}),e.d(t,"u",function(){return z});var n=e("7f80"),i=function(t,e){return Object(n.k)("/setting/noticeMessage/".concat(t),e)},r=function(t){return Object(n.c)("/wechat/wechatMessage/init",t)},s=function(t){return Object(n.c)("/wechat/wechatMessage",t)},o=function(t,e){return Object(n.k)("/wechat/wechatMessage/".concat(t),e)},c=function(t,e){return Object(n.b)("/wechat/wechatMessage/".concat(t),e)},a=function(t){return Object(n.c)("/wechat/wechatMPMessage/init",t)},u=function(t){return Object(n.c)("/wechat/wechatMPMessage",t)},l=function(t,e){return Object(n.k)("/wechat/wechatMPMessage/".concat(t),e)},f=function(t,e){return Object(n.b)("/wechat/wechatMPMessage/".concat(t),e)},m=function(t){return Object(n.c)("/setting/noticeMessage",t)},d=function(t){return Object(n.b)("/other/message/".concat(t))},h=function(t,e){return Object(n.k)("/setting/noticeMessage/".concat(t,"/").concat(e))},p=function(t){return Object(n.c)("sms/template/querySmsTemplatePage",t)},g=function(t){return Object(n.g)("sms/template",t)},b=function(t){return Object(n.b)("sms/template",t)},v=function(t){return Object(n.k)("sms/template/modifySmsTemplate",t)},y=function(t){return Object(n.c)("sms/sign/querySmsSignPage",t)},O=function(){return Object(n.k)("sms/template/querySmsSign")},w=function(t){return Object(n.g)("sms/sign",t)},j=function(){return Object(n.k)("sms/sign/querySmsSign")},S=function(t){return Object(n.b)("sms/sign/".concat(t))},k=function(t){return Object(n.k)("sms/sign/modifySmsSign",t)},$=function(t){return Object(n.c)("sms/sign/".concat(t))},M=function(t){return Object(n.c)("/other/appVersion",t)},x=function(t){return Object(n.g)("/other/appVersion",t)},L=function(t,e){return Object(n.k)("/other/appVersion/".concat(e),t)},P=function(t){return Object(n.b)("/other/appVersion/".concat(t))},_=function(t){return Object(n.c)("sms/sms",t)},I=function(t){return Object(n.g)("sms/sms",t)},C=function(){return Object(n.c)("setting/settingx/paymentSupport")},V=function(t){return Object(n.b)("/other/verificationSource/".concat(t))},E=function(t){return Object(n.g)("/other/verificationSource",t)},D=function(t,e){return Object(n.k)("/other/verificationSource/".concat(t),e)},q=function(t){return Object(n.c)("/other/verificationSource",t)},z=function(t,e){return Object(n.c)("/setting/noticeMessage/".concat(t),e)}},"91db":function(t,e,n){},c6072:function(t,e,n){},e0fa:function(t,e,n){"use strict";n("c6072")},e1bd:function(t,e,n){"use strict";var i=n("365c"),r=n("b76a");function s(e,t){var n,i=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)),i}function o(i){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach(function(t){var e,n;e=i,n=r[t=t],t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach(function(t){Object.defineProperty(i,t,Object.getOwnPropertyDescriptor(r,t))})}return i}function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}r={name:"uploadPicThumb",components:{vuedraggable:n.n(r).a},props:{value:{type:null},draggable:{type:Boolean,default:!0},multiple:{type:Boolean,default:!0},limit:{type:Number,default:10}},data:function(){return{accessToken:{},uploadFileUrl:i.nb,uploadList:[],viewImage:!1,imgUrl:""}},methods:{onEnd:function(){this.returnValue()},init:function(){this.setData(this.value,!0),this.accessToken={accessToken:this.getStore("accessToken")}},handleView:function(t){this.imgUrl=t,this.viewImage=!0},handleRemove:function(e){this.uploadList=this.uploadList.filter(function(t){return t.url!==e.url}),this.returnValue()},handleSuccess:function(t,e){t.success?(e.url=t.result,!this.multiple&&0<this.uploadList.length&&this.uploadList.splice(0,1),this.uploadList.push(e),this.returnValue()):this.$Message.error(t.message)},handleError:function(t,e,n){this.$Message.error(t.toString())},handleFormatError:function(t){this.$Notice.warning({title:"不支持的文件格式",desc:"所选文件‘ "+t.name+" ’格式不正确, 请选择 .jpg .jpeg .png .gif图片格式文件"})},handleMaxSize:function(t){this.$Notice.warning({title:"文件大小过大",desc:"所选文件大小过大，不能超过1M."})},handleBeforeUpload:function(){return!(this.multiple&&this.uploadList.length>=this.limit&&(this.$Message.warning("最多只能上传"+this.limit+"张图片"),1))},returnValue:function(){var e,t;!this.uploadList||this.uploadList.length<1?this.multiple?(this.$emit("input",[]),this.$emit("on-change",[])):(this.$emit("input",""),this.$emit("on-change","")):this.multiple?(e=[],this.uploadList.forEach(function(t){e.push(t.url)}),this.$emit("input",e),this.$emit("on-change",e)):(t=this.uploadList[0].url,this.$emit("input",t),this.$emit("on-change",t))},setData:function(t,e){var n=this;if("string"==typeof t)this.multiple?this.$Message.warning("多张上传仅支持数组数据类型"):t&&(this.uploadList=[],this.uploadList.push({url:t,status:"finished"}),this.$emit("uploadchange",t),this.$emit("on-change",t));else if("object"==c(t))if(this.multiple)if(this.uploadList=[],t.length>this.limit){for(var i=0;i<this.limit;i++){var r={url:t[i],status:"finished"};this.uploadList.push(r)}this.$emit("on-change",t.slice(0,this.limit)),e&&this.$emit("input",t.slice(0,this.limit)),this.$Message.warning("最多只能上传"+this.limit+"张图片")}else t.forEach(function(t){t=o({status:"finished"},t);n.uploadList.push(t)}),this.$emit("on-change",t);else this.$Message.warning("单张上传仅支持字符串数据类型")}},watch:{value:function(t){this.setData(t)}},mounted:function(){this.init()}},n("e0fa"),n=n("2877"),n=Object(n.a)(r,function(){var n=this,i=n._self._c;return i("div",[i("div",{staticClass:"upload-pic-thumb"},[i("vuedraggable",{staticClass:"list-group",attrs:{list:n.uploadList,disabled:!n.draggable||!n.multiple,animation:200,"ghost-class":"thumb-ghost"},on:{end:n.onEnd}},n._l(n.uploadList,function(e,t){return i("div",{key:t,staticClass:"upload-list"},["finished"==e.status?i("div",{staticStyle:{height:"60px"}},[i("img",{attrs:{src:e.url}}),i("div",{staticClass:"upload-list-cover"},[i("Icon",{attrs:{type:"ios-eye-outline"},on:{click:function(t){return n.handleView(e.url)}}}),i("Icon",{attrs:{type:"ios-trash-outline"},on:{click:function(t){return n.handleRemove(e)}}})],1)]):i("div",[e.showProgress?i("Progress",{attrs:{percent:e.percentage,"hide-info":""}}):n._e()],1)])}),0),i("Upload",{ref:"upload",staticStyle:{display:"inline-block",width:"58px"},attrs:{multiple:n.multiple,"show-upload-list":!1,"on-success":n.handleSuccess,"on-error":n.handleError,format:["jpg","jpeg","png","gif"],"max-size":1024,"on-format-error":n.handleFormatError,"on-exceeded-size":n.handleMaxSize,"before-upload":n.handleBeforeUpload,type:"drag",action:n.uploadFileUrl,headers:n.accessToken}},[i("div",{staticStyle:{width:"58px",height:"58px","line-height":"58px"}},[i("Icon",{attrs:{type:"md-camera",size:"20"}})],1)])],1),i("Modal",{attrs:{title:"图片预览",styles:{top:"30px"},draggable:""},model:{value:n.viewImage,callback:function(t){n.viewImage=t},expression:"viewImage"}},[i("img",{staticStyle:{width:"100%",margin:"0 auto",display:"block"},attrs:{src:n.imgUrl,alt:"无效的图片链接"}}),i("div",{attrs:{slot:"footer"},slot:"footer"},[i("Button",{on:{click:function(t){n.viewImage=!1}}},[n._v("关闭")])],1)])],1)},[],!1,null,"63ca8744",null);e.a=n.exports},e7ce:function(t,e,n){"use strict";n("91db")}}]);