(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-07f4836f"],{"1d2a":function(e,t,a){"use strict";a("e77e")},"79e2":function(e,t,a){"use strict";a.r(t);var n=a("6bba"),c=a("8194"),r=a("cdbd"),n={name:"memberRecycle",components:{region:n.a,ossManage:r.default},data:function(){var a=this;return{selectedMember:!1,descTitle:"",descFlag:!1,openSearch:!0,loading:!0,updateRegion:!1,searchForm:{pageNumber:1,pageSize:10,order:"desc",username:"",mobile:"",disabled:"CLOSE"},picModelFlag:!1,formValidate:{},ruleValidate:{},columns:[{title:"会员名称",align:"left",key:"username",tooltip:!0},{title:"昵称",align:"left",key:"nickName",tooltip:!0},{title:"联系方式",width:130,key:"mobile",render:function(e,t){return null==t.row.mobile?e("div",[e("span",{},"")]):e("div",[e("span",{},t.row.mobile)])}},{title:"注册时间",key:"createTime",width:180},{title:"积分数量",align:"left",width:120,render:function(e,t){return e("div",{},null==t.row.point?"0":t.row.point)}},{title:"操作",key:"action",align:"center",width:200,fixed:"right",render:function(e,t){return e("div",{style:{display:"flex",justifyContent:"center"}},[e("Button",{props:{size:"small"},style:{marginRight:"5px",display:a.selectedMember?"block":"none"},on:{click:function(){a.callback(t.row)}}},"选择"),e("Button",{props:{type:"info",size:"small"},style:{marginRight:"5px"},on:{click:function(){a.detail(t.row)}}},"查看"),e("Button",{props:{size:"small",type:"success"},style:{marginRight:"5px",display:a.selectedMember?"none":"block"},on:{click:function(){a.enable(t.row)}}},"启用"),e("Button",{props:{type:"info",size:"small",ghost:!0},style:{marginRight:"5px"},on:{click:function(){a.editPerm(t.row)}}},"编辑")])}}],data:[],total:0}},methods:{callback:function(e){this.$emit("callback",e)},init:function(){this.getData()},changePage:function(e){this.searchForm.pageNumber=e,this.getData()},changePageSize:function(e){this.searchForm.pageNumber=1,this.searchForm.pageSize=e,this.getData()},handleSearch:function(){this.searchForm.pageNumber=1,this.searchForm.pageSize=10,this.getData()},editPerm:function(e){this.descTitle="查看用户 ".concat(e.username),this.descFlag=!0,this.updateRegion=!1,this.getMemberInfo(e.id)},getMemberInfo:function(e){var t=this;c.g(e).then(function(e){e.result&&t.$set(t,"formValidate",e.result)})},getData:function(){var t=this;c.i(this.searchForm).then(function(e){e.success&&(t.loading=!1,t.data=e.result.records,t.total=e.result.total)})},callbackSelected:function(e){this.picModelFlag=!1,this.formValidate.face=e.url},selectedRegion:function(e){this.region=e[1],this.regionId=e[0]},detail:function(e){this.$router.push({name:"member-detail",query:{id:e.id}})},enable:function(e){var t=this,a={memberIds:[e.id],disabled:!0};this.$Modal.confirm({title:"提示",content:"<p>启用用此会员？</p>",onOk:function(){c.v(a).then(function(e){e.success&&(t.$Message.success("禁用成功"),t.getData())})}})},handleSubmitModal:function(){var t=this,e=this.formValidate,a=e.nickName,n=e.sex,r=e.username,i=e.face,o=e.newPassword,e=e.id,s=new Date(this.formValidate.birthday),s=s.getFullYear()+"-"+(s.getMonth()+1)+"-"+s.getDate(),a={regionId:this.regionId||"",region:this.region||"",nickName:a,username:r,sex:n,birthday:s,face:i||"",id:e};o&&(a.password=this.md5(o)),c.t(a).then(function(e){e.result&&(t.$Message.success("修改成功！"),t.init())})}},mounted:function(){this.init()}},r=(a("1d2a"),a("2877")),a=Object(r.a)(n,function(){var e=this,t=this,a=t._self._c;return a("div",{staticClass:"search"},[a("Row",[a("Card",[a("Row",{nativeOn:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleSearch.apply(null,arguments)}}},[a("Form",{ref:"searchForm",staticClass:"search-form",attrs:{model:t.searchForm,inline:"","label-width":70}},[a("Form-item",{attrs:{label:"会员名称",prop:"username"}},[a("Input",{staticStyle:{width:"200px"},attrs:{type:"text",placeholder:"请输入会员名称",clearable:""},model:{value:t.searchForm.username,callback:function(e){t.$set(t.searchForm,"username",e)},expression:"searchForm.username"}})],1),a("Form-item",{attrs:{label:"联系方式",prop:"mobile"}},[a("Input",{staticStyle:{width:"200px"},attrs:{type:"text",placeholder:"请输入会员联系方式",clearable:""},model:{value:t.searchForm.mobile,callback:function(e){t.$set(t.searchForm,"mobile",e)},expression:"searchForm.mobile"}})],1),a("Button",{staticClass:"search-btn",attrs:{type:"primary",icon:"ios-search"},on:{click:t.handleSearch}},[t._v("搜索")])],1)],1),a("Table",{ref:"table",staticClass:"mt_10",attrs:{loading:t.loading,border:"",columns:t.columns,data:t.data,sortable:"custom"}}),a("Row",{staticClass:"mt_10",attrs:{type:"flex",justify:"end"}},[a("Page",{attrs:{current:t.searchForm.pageNumber,total:t.total,"page-size":t.searchForm.pageSize,"page-size-opts":[10,20,50],size:"small","show-total":"","show-elevator":"","show-sizer":""},on:{"on-change":t.changePage,"on-page-size-change":t.changePageSize}})],1)],1)],1),a("Modal",{attrs:{title:t.descTitle,width:"500"},on:{"on-ok":t.handleSubmitModal},model:{value:t.descFlag,callback:function(e){t.descFlag=e},expression:"descFlag"}},[a("Form",{ref:"formValidate",attrs:{model:t.formValidate,rules:t.ruleValidate,"label-width":80}},[a("FormItem",{attrs:{label:"头像"}},[a("img",{staticClass:"face",attrs:{src:t.formValidate.face}}),a("Button",{staticClass:"upload",attrs:{type:"text"},on:{click:function(){e.picModelFlag=!0,e.$refs.ossManage.selectImage=!0}}},[t._v("修改 ")]),a("input",{staticStyle:{display:"none"},attrs:{type:"file",id:"file"}})],1),a("FormItem",{attrs:{label:"会员名称",prop:"name"}},[a("Input",{staticStyle:{width:"200px"},attrs:{disabled:""},model:{value:t.formValidate.username,callback:function(e){t.$set(t.formValidate,"username",e)},expression:"formValidate.username"}})],1),a("FormItem",{attrs:{label:"用户昵称",prop:"name"}},[a("Input",{staticStyle:{width:"200px"},model:{value:t.formValidate.nickName,callback:function(e){t.$set(t.formValidate,"nickName",e)},expression:"formValidate.nickName"}})],1),a("FormItem",{attrs:{label:"性别",prop:"sex"}},[a("RadioGroup",{attrs:{type:"button","button-style":"solid"},model:{value:t.formValidate.sex,callback:function(e){t.$set(t.formValidate,"sex",e)},expression:"formValidate.sex"}},[a("Radio",{attrs:{label:1}},[a("span",[t._v("男")])]),a("Radio",{attrs:{label:0}},[a("span",[t._v("女")])])],1)],1),a("FormItem",{attrs:{label:"修改密码",prop:"password"}},[a("Input",{staticStyle:{width:"220px"},attrs:{type:"password",password:""},model:{value:t.formValidate.newPassword,callback:function(e){t.$set(t.formValidate,"newPassword",e)},expression:"formValidate.newPassword"}})],1),a("FormItem",{attrs:{label:"生日",prop:"birthday"}},[a("DatePicker",{staticStyle:{width:"220px"},attrs:{type:"date",format:"yyyy-MM-dd"},model:{value:t.formValidate.birthday,callback:function(e){t.$set(t.formValidate,"birthday",e)},expression:"formValidate.birthday"}})],1),a("FormItem",{attrs:{label:"所在地",prop:"mail"}},[t.updateRegion?a("div",{staticClass:"form-item"},[a("region",{staticStyle:{width:"250px"},on:{selected:t.selectedRegion}})],1):a("div",{staticClass:"form-item"},[a("Input",{staticStyle:{width:"250px"},attrs:{disabled:"",value:t.formValidate.region}}),a("Button",{attrs:{type:"text"},on:{click:function(){e.updateRegion=!e.updateRegion}}},[t._v("修改 ")])],1)])],1)],1),a("Modal",{attrs:{width:"1200px"},model:{value:t.picModelFlag,callback:function(e){t.picModelFlag=e},expression:"picModelFlag"}},[a("ossManage",{ref:"ossManage",on:{callback:t.callbackSelected}})],1)],1)},[],!1,null,"774a66fe",null);t.default=a.exports},8194:function(e,t,a){"use strict";a.d(t,"k",function(){return r}),a.d(t,"h",function(){return i}),a.d(t,"c",function(){return o}),a.d(t,"u",function(){return s}),a.d(t,"i",function(){return c}),a.d(t,"g",function(){return l}),a.d(t,"t",function(){return u}),a.d(t,"a",function(){return d}),a.d(t,"o",function(){return m}),a.d(t,"p",function(){return f}),a.d(t,"q",function(){return p}),a.d(t,"w",function(){return b}),a.d(t,"v",function(){return h}),a.d(t,"l",function(){return g}),a.d(t,"n",function(){return y}),a.d(t,"r",function(){return w}),a.d(t,"j",function(){return k}),a.d(t,"e",function(){return v}),a.d(t,"f",function(){return F}),a.d(t,"s",function(){return x}),a.d(t,"b",function(){return O}),a.d(t,"d",function(){return j}),a.d(t,"m",function(){return M});var n=a("7f80"),r=function(e){return Object(n.c)("/member/evaluation/getByPage",e)},i=function(e){return Object(n.c)("/member/evaluation/get/".concat(e))},o=function(e){return Object(n.k)("/member/evaluation/delete/".concat(e))},s=function(e,t){return Object(n.c)("/member/evaluation/updateStatus/".concat(e),t)},c=function(e){return Object(n.c)("/passport/member",e)},l=function(e){return Object(n.c)("/passport/member/".concat(e))},u=function(e){return Object(n.k)("/passport/member",e)},d=function(e){return Object(n.g)("/passport/member",e)},m=function(e){return Object(n.c)("/wallet/recharge",e)},f=function(e){return Object(n.c)("/wallet/log",e)},p=function(e){return Object(n.c)("/wallet/withdrawApply",e)},b=function(e){return Object(n.g)("/wallet/withdrawApply",e)},h=function(e){return Object(n.k)("/passport/member/updateMemberStatus",e)},g=function(e){return Object(n.c)("/statistics/member",e)},y=function(e){return Object(n.c)("/statistics/view/list",e)},w=function(){return Object(n.c)("/statistics/view/online/history")},k=function(e){return Object(n.c)("/passport/member/num",e)},v=function(e){return Object(n.c)("/member/memberPointsHistory/getByPage",e)},F=function(e,t){return Object(n.c)("/member/address/".concat(e),t)},x=function(e){return Object(n.b)("/member/address/delById/".concat(e))},O=function(e){return Object(n.g)("/member/address",e)},j=function(e){return Object(n.k)("/member/address",e)},M=function(e){return Object(n.c)("/wallet/wallet",e)}},e77e:function(e,t,a){}}]);