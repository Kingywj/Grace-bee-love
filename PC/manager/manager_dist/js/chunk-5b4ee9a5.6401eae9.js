(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-5b4ee9a5"],{"0477":function(t,e,a){},"0ca4":function(t,e,a){"use strict";a.r(e);var i=a("0959"),s={name:"bill",components:{},data:function(){var a=this;return{loading:!0,searchForm:{pageNumber:1,pageSize:10,sort:"createTime",order:"desc",startDate:"",endDate:""},selectDate:null,selectList:[],selectCount:0,columns:[{type:"selection",width:60,align:"center"},{title:"账单号",key:"sn",minWidth:200,tooltip:!0},{title:"生成时间",key:"createTime",width:120},{title:"结算时间段",key:"startTime",width:200,render:function(t,e){return t("div",e.row.startTime+"~"+e.row.endTime)}},{title:"店铺名称",key:"storeName",minWidth:120,tooltip:!0},{title:"结算金额",key:"billPrice",width:130,render:function(t,e){return t("div",a.$options.filters.unitPrice(e.row.billPrice,"￥"))}},{title:"状态",key:"billStatus",width:100,render:function(t,e){return"OUT"==e.row.billStatus?t("Tag",{props:{color:"blue"}},"已出账"):"CHECK"==e.row.billStatus?t("Tag",{props:{color:"geekblue"}},"已对账"):"EXAMINE"==e.row.billStatus?t("Tag",{props:{color:"purple"}},"已审核"):t("Tag",{props:{color:"green"}},"已付款")}},{title:"操作",key:"action",align:"center",fixed:"right",width:120,render:function(t,e){return t("div",[t("Button",{props:{type:"info",size:"small"},style:{marginRight:"5px"},on:{click:function(){a.detail(e.row)}}},"详细")])}}],data:[],total:0}},methods:{init:function(){this.getDataList()},changePage:function(t){this.searchForm.pageNumber=t,this.getDataList(),this.clearSelectAll()},changePageSize:function(t){this.searchForm.pageNumber=1,this.searchForm.pageSize=t,this.getDataList()},handleSearch:function(){this.searchForm.pageNumber=1,this.getDataList()},clearSelectAll:function(){this.$refs.table.selectAll(!1)},changeSelect:function(t){this.selectList=t,this.selectCount=t.length},selectDateRange:function(t){t&&(this.searchForm.startDate=t[0],this.searchForm.endDate=t[1])},getDataList:function(){var e=this;this.loading=!0,this.searchForm.startTime&&(this.searchForm.startTime=this.$options.filters.unixToDate(this.searchForm.startTime/1e3)),this.searchForm.endTime&&(this.searchForm.endTime=this.$options.filters.unixToDate(this.searchForm.endTime/1e3)),this.searchForm.billStatus="CHECK",i.d(this.searchForm).then(function(t){e.loading=!1,t.success&&(e.data=t.result.records,e.total=t.result.total)}),this.total=this.data.length,this.loading=!1},detail:function(t){t=t.id;this.$router.push({name:"bill-detail",query:{id:t}})}},mounted:function(){this.init()}},a=(a("2f8f"),a("2877")),a=Object(a.a)(s,function(){var e=this,t=e._self._c;return t("div",{staticClass:"search"},[t("Card",[t("Form",{ref:"searchForm",staticClass:"search-form",attrs:{model:e.searchForm,inline:"","label-width":70}},[t("Form-item",{attrs:{label:"账单编号",prop:"sn"}},[t("Input",{staticStyle:{width:"200px"},attrs:{type:"text",placeholder:"请输入账单编号",clearable:""},model:{value:e.searchForm.sn,callback:function(t){e.$set(e.searchForm,"sn",t)},expression:"searchForm.sn"}})],1),t("Form-item",{attrs:{label:"出帐时间",prop:"createTime"}},[t("DatePicker",{staticStyle:{width:"200px"},attrs:{type:"daterange",format:"yyyy-MM-dd HH:mm:ss",clearable:"",placeholder:"选择起始时间"},on:{"on-change":e.selectDateRange},model:{value:e.selectDate,callback:function(t){e.selectDate=t},expression:"selectDate"}})],1),t("Button",{staticClass:"search-btn",attrs:{type:"primary",icon:"ios-search"},on:{click:e.handleSearch}},[e._v("搜索")])],1),t("Table",{ref:"table",staticClass:"mt_10",attrs:{loading:e.loading,border:"",columns:e.columns,data:e.data},on:{"on-selection-change":e.changeSelect}}),t("Row",{staticClass:"mt_10",attrs:{type:"flex",justify:"end"}},[t("Page",{attrs:{current:e.searchForm.pageNumber,total:e.total,"page-size":e.searchForm.pageSize,"page-size-opts":[10,20,50],size:"small","show-total":"","show-elevator":"","show-sizer":""},on:{"on-change":e.changePage,"on-page-size-change":e.changePageSize}})],1)],1)],1)},[],!1,null,"4795a178",null);e.default=a.exports},"2f8f":function(t,e,a){"use strict";a("0477")}}]);