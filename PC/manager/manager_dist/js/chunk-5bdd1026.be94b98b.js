(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-5bdd1026"],{"0f7d":function(t,e,n){"use strict";n("81b0")},"81b0":function(t,e,n){},"90e7":function(T,t,e){"use strict";e.d(t,"m",function(){return r}),e.d(t,"I",function(){return o}),e.d(t,"A",function(){return a}),e.d(t,"s",function(){return i}),e.d(t,"h",function(){return s}),e.d(t,"H",function(){return c}),e.d(t,"z",function(){return l}),e.d(t,"r",function(){return u}),e.d(t,"g",function(){return d}),e.d(t,"t",function(){return m}),e.d(t,"i",function(){return f}),e.d(t,"F",function(){return p}),e.d(t,"y",function(){return h}),e.d(t,"b",function(){return b}),e.d(t,"k",function(){return g}),e.d(t,"o",function(){return v}),e.d(t,"x",function(){return y}),e.d(t,"E",function(){return w}),e.d(t,"a",function(){return O}),e.d(t,"D",function(){return k}),e.d(t,"j",function(){return S}),e.d(t,"n",function(){return j}),e.d(t,"C",function(){return _}),e.d(t,"e",function(){return U}),e.d(t,"d",function(){return M}),e.d(t,"q",function(){return F}),e.d(t,"l",function(){return D}),e.d(t,"w",function(){return x}),e.d(t,"B",function(){return I}),e.d(t,"v",function(){return V}),e.d(t,"f",function(){return q}),e.d(t,"c",function(){return N}),e.d(t,"p",function(){return P}),e.d(t,"G",function(){return $}),e.d(t,"u",function(){return A});var n=e("7f80"),r=function(t,e){return Object(n.k)("/setting/noticeMessage/".concat(t),e)},o=function(t){return Object(n.c)("/wechat/wechatMessage/init",t)},a=function(t){return Object(n.c)("/wechat/wechatMessage",t)},i=function(t,e){return Object(n.k)("/wechat/wechatMessage/".concat(t),e)},s=function(t,e){return Object(n.b)("/wechat/wechatMessage/".concat(t),e)},c=function(t){return Object(n.c)("/wechat/wechatMPMessage/init",t)},l=function(t){return Object(n.c)("/wechat/wechatMPMessage",t)},u=function(t,e){return Object(n.k)("/wechat/wechatMPMessage/".concat(t),e)},d=function(t,e){return Object(n.b)("/wechat/wechatMPMessage/".concat(t),e)},m=function(t){return Object(n.c)("/setting/noticeMessage",t)},f=function(t){return Object(n.b)("/other/message/".concat(t))},p=function(t,e){return Object(n.k)("/setting/noticeMessage/".concat(t,"/").concat(e))},h=function(t){return Object(n.c)("sms/template/querySmsTemplatePage",t)},b=function(t){return Object(n.g)("sms/template",t)},g=function(t){return Object(n.b)("sms/template",t)},v=function(t){return Object(n.k)("sms/template/modifySmsTemplate",t)},y=function(t){return Object(n.c)("sms/sign/querySmsSignPage",t)},w=function(){return Object(n.k)("sms/template/querySmsSign")},O=function(t){return Object(n.g)("sms/sign",t)},k=function(){return Object(n.k)("sms/sign/querySmsSign")},S=function(t){return Object(n.b)("sms/sign/".concat(t))},j=function(t){return Object(n.k)("sms/sign/modifySmsSign",t)},_=function(t){return Object(n.c)("sms/sign/".concat(t))},U=function(t){return Object(n.c)("/other/appVersion",t)},M=function(t){return Object(n.g)("/other/appVersion",t)},F=function(t,e){return Object(n.k)("/other/appVersion/".concat(e),t)},D=function(t){return Object(n.b)("/other/appVersion/".concat(t))},x=function(t){return Object(n.c)("sms/sms",t)},I=function(t){return Object(n.g)("sms/sms",t)},V=function(){return Object(n.c)("setting/settingx/paymentSupport")},q=function(t){return Object(n.b)("/other/verificationSource/".concat(t))},N=function(t){return Object(n.g)("/other/verificationSource",t)},P=function(t,e){return Object(n.k)("/other/verificationSource/".concat(t),e)},$=function(t){return Object(n.c)("/other/verificationSource",t)},A=function(t,e){return Object(n.c)("/setting/noticeMessage/".concat(t),e)}},aef7:function(t,e,n){"use strict";n.r(e);var r=n("90e7"),o={name:"appVersion",data:function(){var n=this;return{queryModalVisible:!1,queryModalTitle:"查看更新信息",loading:!0,modalVisible:!1,modalTitle:"",modalType:0,searchForm:{pageNumber:1,pageSize:10,sort:"createTime",order:"desc",type:""},form:{versionName:"",version:"",forceUpdate:1,type:"IOS",downloadUrl:"",content:"",versionUpdateDate:""},versionUpdateDate:"",formValidate:{version:[{required:!0,message:"版本号不能为空",trigger:"blur"}],versionName:[{required:!0,message:"版本名称不能为空",trigger:"blur"}],downloadUrl:[{required:!0,message:"下载地址不能为空",trigger:"blur"}],versionUpdateDate:[{required:!0,message:"更新时间不能为空"}]},submitLoading:!1,columns:[{title:"版本名称",key:"versionName",minWidth:100},{title:"版本号",key:"version",minWidth:120},{title:"强制更新",key:"forceUpdate",width:100,render:function(t,e){return t("div",{props:{color:e.row.forceUpdate?"primary":"default"}},0==e.row.forceUpdate?"非强制":"强制")}},{title:"类型",key:"type",minWidth:80,render:function(t,e){return"IOS"==e.row.type?t("div",[t("span",{},"苹果")]):t("div",[t("span",{},"安卓")])}},{title:"更新时间",key:"versionUpdateDate",minWidth:120,sortable:!0},{title:"操作",key:"action",align:"center",width:230,render:function(t,e){return t("div",[t("Button",{props:{type:"info",size:"small"},style:{marginRight:"5px"},on:{click:function(){n.detail(e.row)}}},"查看"),t("Button",{props:{type:"info",size:"small",ghost:!0},style:{marginRight:"5px"},on:{click:function(){n.editAppVersion(e.row)}}},"修改"),t("Button",{props:{type:"error",size:"small"},style:{marginRight:"5px"},on:{click:function(){n.remove(e.row)}}},"删除")])}}],data:[],total:0}},methods:{init:function(){this.getData()},changePage:function(t){this.searchForm.pageNumber=t,this.getData()},changePageSize:function(t){this.searchForm.pageNumber=1,this.searchForm.pageSize=t,this.getData()},handleSearch:function(){this.searchForm.pageNumber=1,this.getData()},getData:function(){var e=this;this.loading=!0,r.e(this.searchForm).then(function(t){e.loading=!1,t.success&&(e.data=t.result.records,e.total=t.result.total)}),this.total=this.data.length,this.loading=!1},addAppVersion:function(){this.modalVisible=!0,this.modalTitle="添加APP版本信息";var t=this.$options.filters.unixToDate(new Date/1e3);this.form={forceUpdate:0,type:"IOS",versionUpdateDate:t,content:" "}},editAppVersion:function(t){this.modalVisible=!0,this.modalTitle="修改APP版本信息",this.modalType=1,t.forceUpdate?t.forceUpdate=1:t.forceUpdate=0,this.form=t},saveAppVersion:function(){var e=this;this.$refs.form.validate(function(t){t&&(e.submitLoading=!0,t=e.$options.filters.unixToDate(e.form.versionUpdateDate/1e3),e.form.versionUpdateDate=t,e.form.updateTime=t,0==e.modalType?(delete e.form.id,r.d(e.form).then(function(t){e.submitLoading=!1,t&&t.success&&(e.$Message.success("添加成功"),e.modalVisible=!1,e.getData())})):r.q(e.form,e.form.id).then(function(t){e.submitLoading=!1,t&&t.success&&(e.$Message.success("修改成功"),e.modalVisible=!1,e.getData())}))})},remove:function(t){var e=this;this.$Modal.confirm({title:"确认删除",content:"您确认要删除么?",loading:!0,onOk:function(){r.l(t.id).then(function(t){e.$Modal.remove(),t.success&&(e.$Message.success("删除成功"),e.getData())})}})},detail:function(t){this.queryModalVisible=!0,this.form=JSON.parse(JSON.stringify(t)),this.versionUpdateDate=this.form.versionUpdateDate}},mounted:function(){this.init()}},n=(n("0f7d"),n("2877")),n=Object(n.a)(o,function(){var e=this,t=e._self._c;return t("div",{staticClass:"search"},[t("Card",[t("Form",{ref:"searchForm",staticClass:"search-form",attrs:{model:e.searchForm,inline:"","label-width":70},nativeOn:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleSearch.apply(null,arguments)}}},[t("Form-item",{attrs:{label:"系统类型",prop:"orderSn"}},[t("Select",{staticStyle:{width:"200px"},attrs:{placeholder:"请选择系统类型",clearable:""},model:{value:e.searchForm.type,callback:function(t){e.$set(e.searchForm,"type",t)},expression:"searchForm.type"}},[t("Option",{attrs:{value:"IOS"}},[e._v("苹果")]),t("Option",{attrs:{value:"ANDROID"}},[e._v("安卓")])],1)],1),t("Button",{attrs:{type:"primary",icon:"ios-search"},on:{click:e.handleSearch}},[e._v("搜索")])],1),t("Button",{staticClass:"mt_10 mb_10",attrs:{type:"primary"},on:{click:e.addAppVersion}},[e._v("添加")]),t("Table",{ref:"table",attrs:{loading:e.loading,border:"",columns:e.columns,data:e.data,sortable:"custom"}}),t("Row",{staticClass:"mt_10",attrs:{type:"flex",justify:"end"}},[t("Page",{attrs:{current:e.searchForm.pageNumber,total:e.total,"page-size":e.searchForm.pageSize,"page-size-opts":[10,20,50],size:"small","show-total":"","show-elevator":"","show-sizer":""},on:{"on-change":e.changePage,"on-page-size-change":e.changePageSize}})],1)],1),t("Modal",{attrs:{title:e.modalTitle,"mask-closable":!1,width:1e3},model:{value:e.modalVisible,callback:function(t){e.modalVisible=t},expression:"modalVisible"}},[t("Form",{ref:"form",attrs:{model:e.form,"label-width":100,rules:e.formValidate}},[t("FormItem",{attrs:{label:"版本名称",prop:"versionName"}},[t("Input",{staticStyle:{width:"40%"},attrs:{maxlength:"15",clearable:""},model:{value:e.form.versionName,callback:function(t){e.$set(e.form,"versionName",t)},expression:"form.versionName"}})],1),t("FormItem",{attrs:{label:"版本号",prop:"version"}},[t("Input",{staticStyle:{width:"40%"},attrs:{maxlength:"15",clearable:""},model:{value:e.form.version,callback:function(t){e.$set(e.form,"version",t)},expression:"form.version"}}),t("span",{staticClass:"tips"},[e._v("在移动端项目->manifest.json->基础配置->应用版本名称中查看")])],1),t("FormItem",{attrs:{label:"更新时间",prop:"versionUpdateDate"}},[t("DatePicker",{staticStyle:{width:"200px"},attrs:{type:"datetime",format:"yyyy-MM-dd HH:mm:ss",clearable:"",placeholder:"请选择"},model:{value:e.form.versionUpdateDate,callback:function(t){e.$set(e.form,"versionUpdateDate",t)},expression:"form.versionUpdateDate"}})],1),t("FormItem",{attrs:{label:"强制更新"}},[t("RadioGroup",{attrs:{type:"button","button-style":"solid"},model:{value:e.form.forceUpdate,callback:function(t){e.$set(e.form,"forceUpdate",t)},expression:"form.forceUpdate"}},[t("Radio",{attrs:{label:1}},[e._v("强制更新")]),t("Radio",{attrs:{label:0}},[e._v("非强制更新")])],1),1==e.form.forceUpdate?t("span",{staticClass:"tips"},[e._v(" 强制更新即为应用中必须更新此版本。不更新则无法继续使用App ")]):e._e(),0==e.form.forceUpdate?t("span",{staticClass:"tips"},[e._v(" 非强制更新为应用中推荐更新此版本。不更新还可以继续使用 ")]):e._e()],1),t("FormItem",{attrs:{label:"类型"}},[t("RadioGroup",{attrs:{type:"button","button-style":"solid"},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}},[t("Radio",{attrs:{label:"IOS"}},[e._v("苹果")]),t("Radio",{attrs:{label:"ANDROID"}},[e._v("安卓")])],1)],1),t("FormItem",{attrs:{label:"下载地址",prop:"downloadUrl"}},[t("Input",{staticStyle:{width:"40%"},attrs:{maxlength:"100",clearable:""},model:{value:e.form.downloadUrl,callback:function(t){e.$set(e.form,"downloadUrl",t)},expression:"form.downloadUrl"}}),"IOS"==e.form.type?t("span",{staticClass:"tips"},[e._v(" AppStore中App项目下载目录。可从下载App页面点击分享，拷贝链接 ")]):t("span",{staticClass:"tips"},[e._v(" 安卓该链接为应用的下载地址 ")])],1),t("FormItem",{staticClass:"form-item-view-el",attrs:{label:"更新内容",prop:"content"}},[t("Input",{attrs:{rows:6,maxlength:"100","show-word-limit":"",type:"textarea",placeholder:"Enter something..."},model:{value:e.form.content,callback:function(t){e.$set(e.form,"content",t)},expression:"form.content"}})],1)],1),t("div",{attrs:{slot:"footer"},slot:"footer"},[t("Button",{attrs:{type:"text"},on:{click:function(t){e.modalVisible=!1}}},[e._v("取消")]),t("Button",{attrs:{type:"primary",loading:e.submitLoading},on:{click:e.saveAppVersion}},[e._v("保存")])],1)],1),t("div",[t("Modal",{attrs:{title:e.queryModalTitle,width:700},model:{value:e.queryModalVisible,callback:function(t){e.queryModalVisible=t},expression:"queryModalVisible"}},[t("Form",[t("div",{staticClass:"div-version"},[t("FormItem",{attrs:{label:"版本名称:"}},[e._v(" "+e._s(e.form.versionName)+" ")])],1),t("div",{staticClass:"div-version"},[t("FormItem",{attrs:{label:"版本号:"}},[e._v(" "+e._s(e.form.version)+" ")])],1),t("FormItem",{attrs:{label:"更新时间:"}},[t("div",[e._v(" "+e._s(e.versionUpdateDate)+" ")])]),t("FormItem",{attrs:{label:"强制更新:"}},[1==e.form.forceUpdate?t("span",[e._v("强制更新")]):t("span",[e._v("非强制更新")])]),t("FormItem",{attrs:{label:"类型"}},["IOS"==e.form.type?t("span",[e._v("IOS")]):t("span",[e._v("安卓")])]),t("FormItem",{attrs:{label:"下载地址:"}},[e._v(" "+e._s(e.form.downloadUrl)+" ")]),t("FormItem",{attrs:{label:"更新内容:"}},[t("div",{domProps:{innerHTML:e._s(e.form.content)}})])],1),t("div",{attrs:{slot:"footer"},slot:"footer"},[t("Button",{attrs:{type:"text"},on:{click:function(t){e.queryModalVisible=!1}}},[e._v("取消")])],1)],1)],1)],1)},[],!1,null,"6894c4ea",null);e.default=n.exports}}]);