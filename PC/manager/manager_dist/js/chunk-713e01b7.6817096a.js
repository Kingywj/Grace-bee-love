(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-713e01b7"],{"3a37":function(e,t,s){},be3d:function(e,t,s){"use strict";s("3a37")},c245:function(e,t,s){"use strict";var a=s("0959");function r(e){return function(e){if(Array.isArray(e))return n(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){{var s;if(e)return"string"==typeof e?n(e,t):"Map"===(s="Object"===(s=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:s)||"Set"===s?Array.from(e):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?n(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var s=0,a=new Array(t);s<t;s++)a[s]=e[s];return a}var o={props:["closeShop"],data:function(){return{month:"",selectedWay:{title:"最近7天",selected:!0,searchType:"LAST_SEVEN"},storeId:"",dates:[],params:{pageNumber:1,pageSize:10,storeName:""},dateList:[{title:"今天",selected:!1,searchType:"TODAY"},{title:"昨天",selected:!1,searchType:"YESTERDAY"},{title:"最近7天",selected:!0,searchType:"LAST_SEVEN"},{title:"最近30天",selected:!1,searchType:"LAST_THIRTY"}],shopTotal:"",shopsData:[]}},mounted:function(){this.getFiveYears(),this.getShopList()},methods:{handleReachBottom:function(){var e=this;setTimeout(function(){e.params.pageNumber*e.params.pageSize<=e.shopTotal&&(e.params.pageNumber++,e.getShopList())},1500)},getShopList:function(){var s=this;Object(a.h)(this.params).then(function(e){var t;e.success&&(s.shopTotal=e.result.total,(t=s.shopsData).push.apply(t,r(e.result.records)))})},changeshop:function(e){this.selectedWay.storeId=this.storeId,this.$emit("selected",this.selectedWay)},getFiveYears:function(){for(var e=(new Date).getFullYear(),t=e-5,s=(new Date).getMonth()+1,a=[],r=t;r<=e;r++)for(var n=1;n<=12;n++)r==e&&s<n||a.push({year:r,month:n});this.dates=a.reverse()},changeSelect:function(){this.month&&(this.dateList.forEach(function(e){e.selected=!1}),this.selectedWay.year=this.month.split("-")[0],this.selectedWay.month=this.month.split("-")[1],this.selectedWay.searchType="",this.$emit("selected",this.selectedWay))},clickBreadcrumb:function(t){this.dateList.forEach(function(e){e.selected=!1}),t.selected=!0,t.storeId=this.storeId,(this.month="")==t.searchType&&(dateList.some(function(e){return e.title==t.title})?t.searchType=date.searchType:t.searchType="LAST_SEVEN"),this.selectedWay=t,this.selectedWay.year=(new Date).getFullYear(),this.selectedWay.month="",this.$emit("selected",this.selectedWay)}}},s=(s("be3d"),s("2877")),s=Object(s.a)(o,function(){var a=this,r=a._self._c;return r("div",[r("div",{staticClass:"breadcrumb"},[a._l(a.dateList,function(t,s){return r("span",{key:s,class:{active:t.selected},on:{click:function(e){return a.clickBreadcrumb(t,s)}}},[a._v(" "+a._s(t.title))])}),r("div",{staticClass:"date-picker"},[r("Select",{staticStyle:{width:"200px","margin-left":"10px"},attrs:{placeholder:"年月查询",clearable:""},on:{"on-change":function(e){return a.changeSelect(a.selectedWay)}},model:{value:a.month,callback:function(e){a.month=e},expression:"month"}},a._l(a.dates,function(e,t){return r("Option",{key:t,attrs:{value:e.year+"-"+e.month,clearable:""}},[a._v(" "+a._s(e.year+"年"+e.month+"月"))])}),1)],1),a.closeShop?a._e():r("div",{staticClass:"shop-list"},[r("Select",{staticStyle:{width:"200px","margin-left":"10px"},attrs:{clearable:"",placeholder:"店铺查询"},on:{"on-change":function(e){return a.changeshop(a.selectedWay)}},model:{value:a.storeId,callback:function(e){a.storeId=e},expression:"storeId"}},[r("Scroll",{attrs:{"on-reach-bottom":a.handleReachBottom}},a._l(a.shopsData,function(e,t){return r("Option",{key:t,attrs:{value:e.id}},[a._v(a._s(e.storeName))])}),1)],1)],1)],2)])},[],!1,null,"03cc32a5",null);t.a=s.exports}}]);