(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-4a069b78","chunk-713e01b7"],{"25b0":function(t,e,r){"use strict";r.r(e);var n=r("c245"),a=r("8194"),s=r("7c93"),n={components:{affixTime:n.a},data:function(){return{uvs:0,pvs:0,dateList:[{title:"今天",selected:!1,value:"TODAY"},{title:"昨天",selected:!1,value:"YESTERDAY"},{title:"最近7天",selected:!0,value:"LAST_SEVEN"},{title:"最近30天",selected:!1,value:"LAST_THIRTY"}],orderChart:"",params:{searchType:"LAST_SEVEN",year:"",month:""},columns:[{key:"date",title:"日期"},{key:"pvNum",title:"浏览量"},{key:"uvNum",title:"访客数"}],data:[]}},watch:{params:{handler:function(t){this.uvs=0,this.pvs=0,this.init()},deep:!0}},methods:{initChart:function(){var e=[],r=[],t=(this.data.forEach(function(t){e.push({date:t.date,uvNum:t.uvNum,title:"访客数UV",pv:t.uvNum}),r.push({date:t.date,pvNum:t.pvNum,pv:t.pvNum,title:"浏览量PV"})}),[].concat(e,r));this.orderChart.data(t),this.orderChart.scale({activeQuantity:{range:[0,1],nice:!0}}),this.orderChart.tooltip({showCrosshairs:!0,shared:!0}),this.orderChart.line().position("date*pv").color("title").label("pv").shape("smooth"),this.orderChart.point().position("date*pv").color("title").label("pv").shape("circle").style({stroke:"#fff",lineWidth:1}),this.orderChart.area().position("date*pv").color("title").shape("smooth"),this.orderChart.render()},clickBreadcrumb:function(t,e){t=JSON.parse(JSON.stringify(t));this.params=t},init:function(){var e=this;a.n(this.params).then(function(t){t.result&&(e.data=t.result,t.result.forEach(function(t){e.uvs+=t.uvNum,e.pvs+=t.pvNum}),e.orderChart||(e.orderChart=new s.Chart({container:"orderChart",autoFit:!0,height:500,padding:[70,70,70,70]})),e.initChart())})}},mounted:function(){this.init()}},r=(r("f1c9"),r("2877")),r=Object(r.a)(n,function(){var t=this,e=t._self._c;return e("div",{staticClass:"wrapper"},[e("Affix",{attrs:{"offset-top":100}},[e("Card",{staticClass:"card fixed-bottom"},[e("affixTime",{on:{selected:t.clickBreadcrumb}})],1)],1),e("Card",{staticClass:"card"},[e("div",[e("h4",[t._v("流量概况")])]),e("div",{staticClass:"box"},[e("div",{staticClass:"box-item"},[e("div",[t._v(" 访客数UV ")]),e("div",[t._v(" "+t._s(t.uvs||0)+" ")])]),e("div",{staticClass:"box-item"},[e("div",[t._v(" 浏览量PV ")]),e("div",[t._v(" "+t._s(t.pvs||0)+" ")])])])]),e("Card",{staticClass:"card"},[e("div",[e("h4",[t._v("流量趋势")]),e("div",{attrs:{id:"orderChart"}})])]),e("Card",{staticClass:"card"},[e("div",[e("h4",[t._v("会员流量报表")]),e("Table",{staticClass:"table",attrs:{stripe:"",columns:t.columns,data:t.data}})],1)])],1)},[],!1,null,"0fcfc3e2",null);e.default=r.exports},"3a37":function(t,e,r){},8194:function(t,e,r){"use strict";r.d(e,"k",function(){return a}),r.d(e,"h",function(){return s}),r.d(e,"c",function(){return i}),r.d(e,"u",function(){return c}),r.d(e,"i",function(){return o}),r.d(e,"g",function(){return u}),r.d(e,"t",function(){return l}),r.d(e,"a",function(){return d}),r.d(e,"o",function(){return h}),r.d(e,"p",function(){return f}),r.d(e,"q",function(){return p}),r.d(e,"w",function(){return m}),r.d(e,"v",function(){return v}),r.d(e,"l",function(){return b}),r.d(e,"n",function(){return y}),r.d(e,"r",function(){return g}),r.d(e,"j",function(){return S}),r.d(e,"e",function(){return O}),r.d(e,"f",function(){return T}),r.d(e,"s",function(){return C}),r.d(e,"b",function(){return w}),r.d(e,"d",function(){return j}),r.d(e,"m",function(){return _});var n=r("7f80"),a=function(t){return Object(n.c)("/member/evaluation/getByPage",t)},s=function(t){return Object(n.c)("/member/evaluation/get/".concat(t))},i=function(t){return Object(n.k)("/member/evaluation/delete/".concat(t))},c=function(t,e){return Object(n.c)("/member/evaluation/updateStatus/".concat(t),e)},o=function(t){return Object(n.c)("/passport/member",t)},u=function(t){return Object(n.c)("/passport/member/".concat(t))},l=function(t){return Object(n.k)("/passport/member",t)},d=function(t){return Object(n.g)("/passport/member",t)},h=function(t){return Object(n.c)("/wallet/recharge",t)},f=function(t){return Object(n.c)("/wallet/log",t)},p=function(t){return Object(n.c)("/wallet/withdrawApply",t)},m=function(t){return Object(n.g)("/wallet/withdrawApply",t)},v=function(t){return Object(n.k)("/passport/member/updateMemberStatus",t)},b=function(t){return Object(n.c)("/statistics/member",t)},y=function(t){return Object(n.c)("/statistics/view/list",t)},g=function(){return Object(n.c)("/statistics/view/online/history")},S=function(t){return Object(n.c)("/passport/member/num",t)},O=function(t){return Object(n.c)("/member/memberPointsHistory/getByPage",t)},T=function(t,e){return Object(n.c)("/member/address/".concat(t),e)},C=function(t){return Object(n.b)("/member/address/delById/".concat(t))},w=function(t){return Object(n.g)("/member/address",t)},j=function(t){return Object(n.k)("/member/address",t)},_=function(t){return Object(n.c)("/wallet/wallet",t)}},be3d:function(t,e,r){"use strict";r("3a37")},c245:function(t,e,r){"use strict";var n=r("0959");function a(t){return function(t){if(Array.isArray(t))return s(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){{var r;if(t)return"string"==typeof t?s(t,e):"Map"===(r="Object"===(r=Object.prototype.toString.call(t).slice(8,-1))&&t.constructor?t.constructor.name:r)||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var i={props:["closeShop"],data:function(){return{month:"",selectedWay:{title:"最近7天",selected:!0,searchType:"LAST_SEVEN"},storeId:"",dates:[],params:{pageNumber:1,pageSize:10,storeName:""},dateList:[{title:"今天",selected:!1,searchType:"TODAY"},{title:"昨天",selected:!1,searchType:"YESTERDAY"},{title:"最近7天",selected:!0,searchType:"LAST_SEVEN"},{title:"最近30天",selected:!1,searchType:"LAST_THIRTY"}],shopTotal:"",shopsData:[]}},mounted:function(){this.getFiveYears(),this.getShopList()},methods:{handleReachBottom:function(){var t=this;setTimeout(function(){t.params.pageNumber*t.params.pageSize<=t.shopTotal&&(t.params.pageNumber++,t.getShopList())},1500)},getShopList:function(){var r=this;Object(n.h)(this.params).then(function(t){var e;t.success&&(r.shopTotal=t.result.total,(e=r.shopsData).push.apply(e,a(t.result.records)))})},changeshop:function(t){this.selectedWay.storeId=this.storeId,this.$emit("selected",this.selectedWay)},getFiveYears:function(){for(var t=(new Date).getFullYear(),e=t-5,r=(new Date).getMonth()+1,n=[],a=e;a<=t;a++)for(var s=1;s<=12;s++)a==t&&r<s||n.push({year:a,month:s});this.dates=n.reverse()},changeSelect:function(){this.month&&(this.dateList.forEach(function(t){t.selected=!1}),this.selectedWay.year=this.month.split("-")[0],this.selectedWay.month=this.month.split("-")[1],this.selectedWay.searchType="",this.$emit("selected",this.selectedWay))},clickBreadcrumb:function(e){this.dateList.forEach(function(t){t.selected=!1}),e.selected=!0,e.storeId=this.storeId,(this.month="")==e.searchType&&(dateList.some(function(t){return t.title==e.title})?e.searchType=date.searchType:e.searchType="LAST_SEVEN"),this.selectedWay=e,this.selectedWay.year=(new Date).getFullYear(),this.selectedWay.month="",this.$emit("selected",this.selectedWay)}}},r=(r("be3d"),r("2877")),r=Object(r.a)(i,function(){var n=this,a=n._self._c;return a("div",[a("div",{staticClass:"breadcrumb"},[n._l(n.dateList,function(e,r){return a("span",{key:r,class:{active:e.selected},on:{click:function(t){return n.clickBreadcrumb(e,r)}}},[n._v(" "+n._s(e.title))])}),a("div",{staticClass:"date-picker"},[a("Select",{staticStyle:{width:"200px","margin-left":"10px"},attrs:{placeholder:"年月查询",clearable:""},on:{"on-change":function(t){return n.changeSelect(n.selectedWay)}},model:{value:n.month,callback:function(t){n.month=t},expression:"month"}},n._l(n.dates,function(t,e){return a("Option",{key:e,attrs:{value:t.year+"-"+t.month,clearable:""}},[n._v(" "+n._s(t.year+"年"+t.month+"月"))])}),1)],1),n.closeShop?n._e():a("div",{staticClass:"shop-list"},[a("Select",{staticStyle:{width:"200px","margin-left":"10px"},attrs:{clearable:"",placeholder:"店铺查询"},on:{"on-change":function(t){return n.changeshop(n.selectedWay)}},model:{value:n.storeId,callback:function(t){n.storeId=t},expression:"storeId"}},[a("Scroll",{attrs:{"on-reach-bottom":n.handleReachBottom}},n._l(n.shopsData,function(t,e){return a("Option",{key:e,attrs:{value:t.id}},[n._v(n._s(t.storeName))])}),1)],1)],1)],2)])},[],!1,null,"03cc32a5",null);e.a=r.exports},f1c9:function(t,e,r){"use strict";r("f3e8")},f3e8:function(t,e,r){}}]);