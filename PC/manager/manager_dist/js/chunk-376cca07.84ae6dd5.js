(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-376cca07"],{"234b":function(t,e,a){"use strict";a.r(e);var n=a("bfb4"),o={name:"floorList",data:function(){return{showModal:!1,selectedIndex:0,total:0,formData:{status:!1,name:""},searchForm:{pageNumber:1,pageSize:10,sort:"createTime",order:"desc",pageType:"INDEX",pageClientType:"PC"},columns:[{title:"页面名称",key:"name"},{title:"状态"},{title:"操作",key:"action"}],loading:!1,pageTypes:[{type:"INDEX",title:"首页"}],list:[]}},mounted:function(){this.getTemplateList()},methods:{newTemplate:function(){var e=this;this.$refs.form.validate(function(t){t?((t=e.formData).status?t.pageShow="OPEN":t.pageShow="CLOSE",delete t.status,t.pageType="INDEX",t.pageClientType="PC",t.id?n.l(t.id,t).then(function(t){e.$Message.success("编辑模板成功"),e.showModal=!1,e.getTemplateList()}):n.k(t).then(function(t){e.$Message.success("新建模板成功"),e.showModal=!1,e.getTemplateList()})):e.loading=!1})},createTemp:function(){this.$refs.form.resetFields(),this.showModal=!0},Template:function(t){t.status=t.pageShow,this.formData=t,this.showModal=!0},decorate:function(t){this.$router.push({name:"renovation",query:{id:t.id,pageShow:t.pageShow}})},changePageNum:function(t){this.searchForm.pageNumber=t,this.getTemplateList()},changePageSize:function(t){this.searchForm.pageNumber=1,this.searchForm.pageSize=t,this.getTemplateList()},getTemplateList:function(){var e=this;n.b(this.searchForm).then(function(t){t.success&&(e.total=t.result.total,e.list=t.result.records,e.list.forEach(function(t){"OPEN"===t.pageShow?t.pageShow=!0:t.pageShow=!1}))})},releaseTemplate:function(t){var e=this;n.h(t).then(function(t){t.success&&(e.$Message.success("发布模板成功"),e.getTemplateList())})},delTemplate:function(t){var e=this;n.i(t).then(function(t){t.success&&(e.$Message.success("删除模板成功"),e.getTemplateList())})}}},a=(a("704c"),a("2877")),a=Object(a.a)(o,function(){var n=this,o=n._self._c;return o("div",{staticClass:"wrapper"},[o("Card",{staticClass:"category"},n._l(n.pageTypes,function(e,a){return o("div",{key:e.type,staticClass:"category-item",class:{active:a==n.selectedIndex}},[o("div",{on:{click:function(t){return n.clickType(e.type,a)}}},[n._v(n._s(e.title))])])}),0),o("Card",{staticClass:"content"},[o("Button",{attrs:{type:"primary"},on:{click:n.createTemp}},[n._v("添加页面")]),o("div",{staticClass:"list"},[n.loading?o("Spin",{attrs:{size:"large",fix:""}}):n._e(),o("div",{staticClass:"item item-title"},[o("div",[n._v("页面名称")]),o("div",{staticClass:"item-config"},[o("div",[n._v("状态")]),o("div",[n._v("操作")])])]),n._l(n.list,function(e,t){return o("div",{key:t,staticClass:"item"},[o("div",[n._v(n._s(e.name||"暂无模板昵称"))]),o("div",{staticClass:"item-config"},[o("i-switch",{on:{"on-change":function(t){return n.releaseTemplate(e.id)}},model:{value:e.pageShow,callback:function(t){n.$set(e,"pageShow",t)},expression:"item.pageShow"}},[o("span",{attrs:{slot:"open"},slot:"open"},[n._v("开")]),o("span",{attrs:{slot:"close"},slot:"close"},[n._v("关")])]),o("Button",{attrs:{type:"info",placement:"right",size:"small"},on:{click:function(t){return n.Template(e)}}},[n._v("编辑")]),o("Button",{attrs:{type:"success",placement:"right",size:"small"},on:{click:function(t){return n.decorate(e)}}},[n._v("装修")]),o("Poptip",{attrs:{confirm:"",title:"删除此模板？"},on:{"on-ok":function(t){return n.delTemplate(e.id)}}},[o("Button",{attrs:{type:"error",size:"small"}},[n._v("删除")])],1)],1)])}),0==n.list.length?o("div",{staticClass:"no-more"},[n._v("暂无更多模板")]):n._e()],2),o("Page",{staticStyle:{float:"right",overflow:"hidden"},attrs:{"show-total":"",total:n.total,"show-sizer":"","page-size-opts":[10,20,50],"show-elevator":"","page-size":n.searchForm.pageSize},on:{"on-change":n.changePageNum,"on-page-size-change":n.changePageSize}})],1),o("Modal",{attrs:{title:"模板设置",draggable:"",width:"600","z-index":100,loading:n.loading,"mask-closable":!1},on:{"on-ok":n.newTemplate,"on-cancel":function(t){n.showModal=!1}},model:{value:n.showModal,callback:function(t){n.showModal=t},expression:"showModal"}},[o("Form",{ref:"form",attrs:{model:n.formData,"label-width":80}},[o("FormItem",{attrs:{label:"模板名称",prop:"name"}},[o("Input",{attrs:{placeholder:"请输入模板名称"},model:{value:n.formData.name,callback:function(t){n.$set(n.formData,"name",t)},expression:"formData.name"}})],1)],1)],1)],1)},[],!1,null,"19dd5130",null);e.default=a.exports},"704c":function(t,e,a){"use strict";a("ba45")},ba45:function(t,e,a){},bfb4:function(t,e,a){"use strict";a.d(e,"k",function(){return o}),a.d(e,"a",function(){return s}),a.d(e,"b",function(){return i}),a.d(e,"l",function(){return c}),a.d(e,"i",function(){return r}),a.d(e,"h",function(){return l}),a.d(e,"f",function(){return u}),a.d(e,"j",function(){return p}),a.d(e,"g",function(){return f}),a.d(e,"c",function(){return d}),a.d(e,"d",function(){return h}),a.d(e,"e",function(){return g});var n=a("7f80"),o=function(t){return Object(n.g)("/other/pageData/add",t)},s=function(t){return Object(n.c)("/other/pageData/".concat(t))},i=function(t){return Object(n.c)("/other/pageData/pageDataList",t)},c=function(t,e){return Object(n.k)("/other/pageData/update/".concat(t),e)},r=function(t){return Object(n.b)("/other/pageData/remove/".concat(t))},l=function(t){return Object(n.k)("/other/pageData/release/".concat(t))},u=function(t){return Object(n.c)("/other/message",t)},p=function(t){return Object(n.g)("/other/message",t)},f=function(t){return Object(n.c)("/other/storeMessage",t)},d=function(t){return Object(n.c)("/other/feedback",t)},h=function(t){return Object(n.c)("/other/feedback/".concat(t))},g=function(t){return Object(n.c)("/other/memberMessage",t)}}}]);