(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-22e69203"],{"37c7":function(t,e,n){},"64a1":function(t,e,n){"use strict";n("37c7")},9215:function(t,e,n){"use strict";n("b211")},"96b6":function(t,e,n){"use strict";function r(e,t){var n,o=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,n)),o}function c(o){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?r(Object(i),!0).forEach(function(t){var e,n;e=o,n=i[t=t],t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach(function(t){Object.defineProperty(o,t,Object.getOwnPropertyDescriptor(i,t))})}return o}var l={MIN_LIMIT:48,DECIMAL_PLACES:4,getMultiple:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:l.DECIMAL_PLACES;return Math.pow(10,t)},decimalPoint:function(){return Math.round((0<arguments.length&&void 0!==arguments[0]?arguments[0]:0)*l.getMultiple())/l.getMultiple()||0},getOffset:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return{width:t.clientWidth||0,height:t.clientHeight||0}},getPageX:function(t){return("pageX"in t?t:t.touches[0]).pageX},getPageY:function(t){return("pageY"in t?t:t.touches[0]).pageY},getDistanceX:function(t,e){return l.getPageX(t)-(e.getBoundingClientRect().left+window.pageXOffset)},getDistanceY:function(t,e){return l.getPageY(t)-(e.getBoundingClientRect().top+window.pageYOffset)},handleEgdeCollisions:function(t,e){var n=t.left,o=t.top,i=t.left+t.width,t=t.top+t.height,r=e.left,a=e.top,s=e.left+e.width,e=e.top+e.height;return!(s<n||i<r||e<o||t<a)},dealEdgeValue:function(t,e,n,o){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:o.length-1;if(Object.prototype.hasOwnProperty.call(e,"left")&&e.left<0&&(e.left=0,e.width=t.width+t.left),Object.prototype.hasOwnProperty.call(e,"top")&&e.top<0&&(e.top=0,e.height=t.height+t.top),!Object.prototype.hasOwnProperty.call(e,"left")&&Object.prototype.hasOwnProperty.call(e,"width")&&t.left+e.width>n.width&&(e.width=n.width-t.left),!Object.prototype.hasOwnProperty.call(e,"top")&&Object.prototype.hasOwnProperty.call(e,"height")&&t.top+e.height>n.height&&(e.height=n.height-t.top),1<o.length)for(var r=JSON.parse(JSON.stringify(o)).map(function(t){return{left:(t.leftPer||0)*n.width,top:(t.topPer||0)*n.height,width:(t.widthPer||0)*n.width,height:(t.heightPer||0)*n.height}}),a=c(c({},t),e),s=0,h=r.length;s<h;s++)if(i!==s&&l.handleEgdeCollisions(r[s],a))return t;return Object.assign(t,e)},dealTL:function(t,e,n){var o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:l.MIN_LIMIT,i={},r=t.width-e,a=t.height-n;return r>=Math.min(o,t.width)&&Object.assign(i,{width:r,left:t.left+e}),a>=Math.min(o,t.height)&&Object.assign(i,{height:a,top:t.top+n}),i},dealTC:function(t,e,n){var o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:l.MIN_LIMIT,i={},r=t.height-n;return i=r>=Math.min(o,t.height)?{height:r,top:t.top+n}:i},dealTR:function(t,e,n){var o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:l.MIN_LIMIT,i={},e=t.width+e,r=t.height-n;return e>=Math.min(o,t.width)&&Object.assign(i,{width:e}),r>=Math.min(o,t.height)&&Object.assign(i,{height:r,top:t.top+n}),i},dealCL:function(t,e,n){var o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:l.MIN_LIMIT,i={},r=t.width-e;return r>=Math.min(o,t.width)&&Object.assign(i,{width:r,left:t.left+e}),i},dealCR:function(t,e,n){var o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:l.MIN_LIMIT,i={},e=t.width+e;return e>=Math.min(o,t.width)&&Object.assign(i,{width:e}),i},dealBL:function(t,e,n){var o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:l.MIN_LIMIT,i={},r=t.width-e,n=t.height+n;return r>=Math.min(o,t.width)&&Object.assign(i,{width:r,left:t.left+e}),n>=Math.min(o,t.height)&&Object.assign(i,{height:n}),i},dealBC:function(t,e,n){var o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:l.MIN_LIMIT,i={},n=t.height+n;return n>=Math.min(o,t.height)&&Object.assign(i,{height:n}),i},dealBR:function(t,e,n){var o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:l.MIN_LIMIT,i={},e=t.width+e,n=t.height+n;return e>=Math.min(o,t.width)&&Object.assign(i,{width:e}),n>=Math.min(o,t.height)&&Object.assign(i,{height:n}),i}},v=l,o={bind:function(u,t,d){function e(t){var o,i,e,r,a,s,h,c,l=t.target.dataset.pointer;function n(t){t&&t.preventDefault(),o=!0;var e=v.getPageX(t)-h,n=v.getPageY(t)-c,t=(h=v.getPageX(t),c=v.getPageY(t),v[l](s,e,n));s=v.dealEdgeValue(s,t,a,d.context.$parent.zones,r),Object.assign(i.style,{top:"".concat(s.top,"px"),left:"".concat(s.left,"px"),width:"".concat(s.width,"px"),height:"".concat(s.height,"px")})}l&&(t&&t.stopPropagation(),i=u.parentNode,e=d.context.setting,r=d.context.index,a=v.getOffset(i.parentNode),s={width:v.getOffset(i).width||0,height:v.getOffset(i).height||0,top:e.topPer*a.height||0,left:e.leftPer*a.width||0},h=v.getPageX(t),c=v.getPageY(t),d.context.handlehideZone(!0),window.addEventListener("mousemove",n,{passive:!1}),window.addEventListener("mouseup",function t(){{var e;o&&(o=!1,e={topPer:v.decimalPoint(s.top/a.height),leftPer:v.decimalPoint(s.left/a.width),widthPer:v.decimalPoint(s.width/a.width),heightPer:v.decimalPoint(s.height/a.height)},d.context.changeInfo(e),Object.assign(i.style,{top:"".concat(s.top,"px"),left:"".concat(s.left,"px"),width:"".concat(s.width,"px"),height:"".concat(s.height,"px")}))}d.context.handlehideZone(!1),window.removeEventListener("mousemove",n),window.removeEventListener("mouseup",t)},{passive:!1}))}u.addEventListener("mousedown",e,{passive:!1}),u.$destroy=function(){return u.removeEventListener("mousedown",e)}},unbind:function(t){t.$destroy()}},i={bind:function(f,t,p){var m;function e(t){t&&t.stopPropagation();var h,c,l,u=v.getOffset(f.parentNode),d=v.getPageX(t),g=v.getPageY(t);function e(t){t&&t.preventDefault(),m=!(l=!0),p.context.handlehideZone(!0);var e=p.context.setting,n=p.context.index,o=v.getPageX(t)-d,t=v.getPageY(t)-g;if(e.topPer=e.topPer||0,e.leftPer=e.leftPer||0,h=v.decimalPoint(t/u.height+e.topPer),c=v.decimalPoint(o/u.width+e.leftPer),h<0&&(h=0,t=-u.height*e.topPer),c<0&&(c=0,o=-u.width*e.leftPer),1<h+e.heightPer&&(h=1-e.heightPer,t=u.height*(h-e.topPer)),1<c+e.widthPer&&(c=1-e.widthPer,o=u.width*(c-e.leftPer)),1<p.context.$parent.zones.length){var i=JSON.parse(JSON.stringify(p.context.$parent.zones)).map(function(t){return{left:(t.leftPer||0)*u.width,top:(t.topPer||0)*u.height,width:(t.widthPer||0)*u.width,height:(t.heightPer||0)*u.height}}),r={};r.left=e.leftPer*u.width+o,r.top=e.topPer*u.height+t,r.width=e.widthPer*u.width,r.height=e.heightPer*u.height;for(var a=0,s=i.length;a<s;a++)if(n!==a&&v.handleEgdeCollisions(i[a],r)){m=!0;break}}f.style.transform="translate(".concat(o,"px, ").concat(t,"px)")}window.addEventListener("mousemove",e,{passive:!1}),window.addEventListener("mouseup",function t(){l&&(l=!1,f.style.transform="translate(0, 0)",m||p.context.changeInfo({topPer:h,leftPer:c})),p.context.handlehideZone(!1),window.removeEventListener("mousemove",e),window.removeEventListener("mouseup",t)},{passive:!1})}f.addEventListener("mousedown",e),f.$destroy=function(){return f.removeEventListener("mousedown",e)}},unbind:function(t){t.$destroy()}},o={name:"Zone",components:{ossManage:n("cdbd").default},data:function(){return{zoneTop:"",zoneLeft:"",zoneWidth:"",zoneHeight:"",hideZone:!1,tooSmall:!1,showModal:!1,picModelFlag:!1,currentIndex:0,currentShowIndex:-1,zoneForm:{img:"",link:"",type:""}}},props:["index","setting"],mounted:function(){this.setZoneInfo(this.setting)},methods:{setZoneInfo:function(t){this.zoneTop=this.getZoneStyle(t.topPer),this.zoneLeft=this.getZoneStyle(t.leftPer),this.zoneWidth=this.getZoneStyle(t.widthPer),this.zoneHeight=this.getZoneStyle(t.heightPer),this.tooSmall=t.widthPer<.01&&t.heightPer<.01,this.zoneForm.link=t.link,this.settingZone(t)},handlehideZone:function(){var t=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];this.hideZone!==t&&(this.hideZone=t)},changeInfo:function(){var t=this.index;this.$emit("changeInfo",{info:0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},index:t,zoneInfo:this.zoneForm})},showModalFn:function(t){this.showModal=!0,this.currentIndex=t},handleSelectImg:function(){this.$refs.ossManage.selectImage=!0,this.picModelFlag=!0},callbackSelected:function(t){this.picModelFlag=!1,this.zoneForm.img=t.url},handleSelectLink:function(t,e){t&&(this.selectedNav=t),this.$refs.liliDialog.open("link")},selectedLink:function(t){this.zoneForm.link=this.$options.filters.formatLinkType(t),this.settingZone(t),this.changeInfo(this.zoneForm)},settingZone:function(t){switch(this.zoneForm.type=t.___type||t.type,this.zoneForm.title=t.title,t.___type){case"goods":this.zoneForm.id=t.id,this.zoneForm.goodsId=t.goodsId,this.zoneForm.goodsName=t.goodsName;break;case"category":this.zoneForm.id=t.allId,this.zoneForm.name=t.name;break;case"shops":this.zoneForm.id=t.id,this.zoneForm.storeName=t.storeName;break;case"pages":this.zoneForm.id=t.id,this.zoneForm.___path=t.___path,this.zoneForm.title=t.title;break;case"marketing":this.zoneForm.id=t.id,this.zoneForm.goodsId=t.goodsId,this.zoneForm.goodsName=t.goodsName}},saveZone:function(){},cancelZone:function(){this.showModal=!1},delZone:function(){this.delItem(this.currentIndex)},delItem:function(t){this.$emit("delItem",t)},getZoneStyle:function(t){return"".concat(100*(t||0),"%")}},watch:{setting:{handler:function(t){this.setZoneInfo(t)},deep:!0}},directives:{changeSize:o,dragItem:i}},i=n("2877"),o=Object(i.a)(o,function(){var e=this,t=e._self._c;return t("li",{directives:[{name:"drag-item",rawName:"v-drag-item"}],style:{top:e.zoneTop,left:e.zoneLeft,width:e.zoneWidth,height:e.zoneHeight}},[t("ul",{directives:[{name:"change-size",rawName:"v-change-size"}],staticClass:"hz-m-box",class:{"hz-z-hidden":e.tooSmall,"hz-m-hoverbox":!e.hideZone}},[t("li",{staticClass:"hz-u-index",attrs:{title:"热区".concat(e.index+1)}},[e._v(e._s(e.index+1))]),t("li",{directives:[{name:"show",rawName:"v-show",value:!e.hideZone,expression:"!hideZone"}],staticClass:"hz-u-close hz-icon hz-icon-trash",attrs:{title:"删除该热区"},on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.delItem(e.index)},mousedown:function(t){t.stopPropagation()},mouseup:function(t){t.stopPropagation()},mousemove:function(t){t.stopPropagation()}}}),t("li",{directives:[{name:"show",rawName:"v-show",value:!e.hideZone,expression:"!hideZone"}],staticClass:"hz-u-close hz-icon hz-icon-edit",attrs:{title:"编辑该热区"},on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.showModalFn(e.index)},mousedown:function(t){t.stopPropagation()},mouseup:function(t){t.stopPropagation()},mousemove:function(t){t.stopPropagation()}}},[t("img",{attrs:{width:"17",height:"17",src:n("b08e")}})]),t("li",{staticClass:"hz-flex-img"},[t("img",{staticClass:"hz-u-img",attrs:{src:e.zoneForm.img}})]),t("li",{staticClass:"hz-u-square hz-u-square-tl",attrs:{"data-pointer":"dealTL"}}),t("li",{staticClass:"hz-u-square hz-u-square-tc",attrs:{"data-pointer":"dealTC"}}),t("li",{staticClass:"hz-u-square hz-u-square-tr",attrs:{"data-pointer":"dealTR"}}),t("li",{staticClass:"hz-u-square hz-u-square-cl",attrs:{"data-pointer":"dealCL"}}),t("li",{staticClass:"hz-u-square hz-u-square-cr",attrs:{"data-pointer":"dealCR"}}),t("li",{staticClass:"hz-u-square hz-u-square-bl",attrs:{"data-pointer":"dealBL"}}),t("li",{staticClass:"hz-u-square hz-u-square-bc",attrs:{"data-pointer":"dealBC"}}),t("li",{staticClass:"hz-u-square hz-u-square-br",attrs:{"data-pointer":"dealBR"}})]),t("Modal",{attrs:{title:"编辑热区",draggable:"",scrollable:"",mask:!1,"ok-text":"保存"},on:{"on-ok":e.saveZone,"on-cancel":e.cancelZone},model:{value:e.showModal,callback:function(t){e.showModal=t},expression:"showModal"}},[t("div",[t("div",{staticClass:"hz-edit-img"},[t("img",{staticClass:"show-image",attrs:{src:e.zoneForm.img,alt:""}})]),t("Form",{attrs:{model:e.zoneForm,"label-width":80}},[t("FormItem",{attrs:{label:"跳转链接："}},["other"===e.zoneForm.type&&"外部链接"===e.zoneForm.title?t("Input",{attrs:{type:"textarea"},model:{value:e.zoneForm.link,callback:function(t){e.$set(e.zoneForm,"link",t)},expression:"zoneForm.link"}}):e._e(),t("Button",{attrs:{size:"small",type:"primary"},on:{click:e.handleSelectLink}},[e._v("选择链接")])],1)],1)],1)]),t("liliDialog",{ref:"liliDialog",on:{selectedLink:e.selectedLink}}),t("Modal",{attrs:{width:"1200px","footer-hide":""},model:{value:e.picModelFlag,callback:function(t){e.picModelFlag=t},expression:"picModelFlag"}},[t("ossManage",{ref:"ossManage",attrs:{isComponent:!0},on:{callback:e.callbackSelected}})],1)],1)},[],!1,null,null,null).exports;function x(t){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(e,t){var n,o=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,n)),o}function s(o){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?a(Object(i),!0).forEach(function(t){var e,n;e=o,n=i[t=t],t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach(function(t){Object.defineProperty(o,t,Object.getOwnPropertyDescriptor(i,t))})}return o}function O(){O=function(){return a};var a={},t=Object.prototype,h=t.hasOwnProperty,e="function"==typeof Symbol?Symbol:{},o=e.iterator||"@@iterator",n=e.asyncIterator||"@@asyncIterator",i=e.toStringTag||"@@toStringTag";function r(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{r({},"")}catch(t){r=function(t,e,n){return t[e]=n}}function s(t,e,n,o){var i,r,a,s,e=e&&e.prototype instanceof u?e:u,e=Object.create(e.prototype),o=new b(o||[]);return e._invoke=(i=t,r=n,a=o,s="suspendedStart",function(t,e){if("executing"===s)throw new Error("Generator is already running");if("completed"===s){if("throw"===t)throw e;return z()}for(a.method=t,a.arg=e;;){var n=a.delegate;if(n){n=function t(e,n){var o=e.iterator[n.method];if(void 0===o){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=void 0,t(e,n),"throw"===n.method))return l;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}o=c(o,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,l;o=o.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=void 0),n.delegate=null,l):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,l)}(n,a);if(n){if(n===l)continue;return n}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===s)throw s="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);s="executing";n=c(i,r,a);if("normal"===n.type){if(s=a.done?"completed":"suspendedYield",n.arg===l)continue;return{value:n.arg,done:a.done}}"throw"===n.type&&(s="completed",a.method="throw",a.arg=n.arg)}}),e}function c(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}a.wrap=s;var l={};function u(){}function d(){}function g(){}var e={},f=(r(e,o,function(){return this}),Object.getPrototypeOf),f=f&&f(f(P([]))),p=(f&&f!==t&&h.call(f,o)&&(e=f),g.prototype=u.prototype=Object.create(e));function m(t){["next","throw","return"].forEach(function(e){r(t,e,function(t){return this._invoke(e,t)})})}function v(a,s){var e;this._invoke=function(n,o){function t(){return new s(function(t,e){!function e(t,n,o,i){var r,t=c(a[t],a,n);if("throw"!==t.type)return(n=(r=t.arg).value)&&"object"==x(n)&&h.call(n,"__await")?s.resolve(n.__await).then(function(t){e("next",t,o,i)},function(t){e("throw",t,o,i)}):s.resolve(n).then(function(t){r.value=t,o(r)},function(t){return e("throw",t,o,i)});i(t.arg)}(n,o,t,e)})}return e=e?e.then(t,t):t()}}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function y(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function b(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function P(e){if(e){var n,t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return n=-1,(t=function t(){for(;++n<e.length;)if(h.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t}).next=t}return{next:z}}function z(){return{value:void 0,done:!0}}return r(p,"constructor",d.prototype=g),r(g,"constructor",d),d.displayName=r(g,i,"GeneratorFunction"),a.isGeneratorFunction=function(t){t="function"==typeof t&&t.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},a.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,r(t,i,"GeneratorFunction")),t.prototype=Object.create(p),t},a.awrap=function(t){return{__await:t}},m(v.prototype),r(v.prototype,n,function(){return this}),a.AsyncIterator=v,a.async=function(t,e,n,o,i){void 0===i&&(i=Promise);var r=new v(s(t,e,n,o),i);return a.isGeneratorFunction(e)?r:r.next().then(function(t){return t.done?t.value:r.next()})},m(p),r(p,i,"Generator"),r(p,o,function(){return this}),r(p,"toString",function(){return"[object Generator]"}),a.keys=function(n){var t,o=[];for(t in n)o.push(t);return o.reverse(),function t(){for(;o.length;){var e=o.pop();if(e in n)return t.value=e,t.done=!1,t}return t.done=!0,t}},a.values=P,b.prototype={constructor:b,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(y),!t)for(var e in this)"t"===e.charAt(0)&&h.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var o=this;function t(t,e){return r.type="throw",r.arg=n,o.next=t,e&&(o.method="next",o.arg=void 0),!!e}for(var e=this.tryEntries.length-1;0<=e;--e){var i=this.tryEntries[e],r=i.completion;if("root"===i.tryLoc)return t("end");if(i.tryLoc<=this.prev){var a=h.call(i,"catchLoc"),s=h.call(i,"finallyLoc");if(a&&s){if(this.prev<i.catchLoc)return t(i.catchLoc,!0);if(this.prev<i.finallyLoc)return t(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return t(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return t(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;0<=n;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&h.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}var r=(i=i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc?null:i)?i.completion:{};return r.type=t,r.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(r)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),y(n),l}},catch:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n,o,i=this.tryEntries[e];if(i.tryLoc===t)return"throw"===(n=i.completion).type&&(o=n.arg,y(i)),o}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:P(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},a}function h(t,e,n,o,i,r,a){try{var s=t[r](a),h=s.value}catch(t){return n(t)}s.done?e(h):Promise.resolve(h).then(o,i)}o={name:"HotZone",data:function(){return{zones:[]}},props:{image:{type:String,required:!0},zonesInit:{type:Array,default:function(){return[]}},max:{type:Number}},mounted:function(){this.zones=this.zonesInit.concat()},methods:{addHotzone:function(){var s,o=this;return s=O().mark(function t(){var e,n;return O().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e={topPer:.15,leftPer:.3,widthPer:.2,heightPer:.2,img:"",link:"",type:"",title:""},t.next=3,o.getImageSize(o.image);case 3:(n=t.sent)&&(1e3<=n.height?e.heightPer=o.convertNumberToDecimal(n.height)/(n.height/1e3):e.heightPer=o.convertNumberToDecimal(n.height),e.widthPer=o.convertNumberToDecimal(n.width)/2),o.addItem(e);case 6:case"end":return t.stop()}},t)}),function(){var t=this,a=arguments;return new Promise(function(e,n){var o=s.apply(t,a);function i(t){h(o,e,n,i,r,"next",t)}function r(t){h(o,e,n,i,r,"throw",t)}i(void 0)})}()},convertNumberToDecimal:function(t){return 1e4<=t?t/1e5:1e3<=t?t/1e4:100<=t?t/1e3:10<=t?t/100:void 0},getImageSize:function(o){return new Promise(function(t,e){var n=new Image;n.onload=function(){t({width:n.width,height:n.height})},n.onerror=function(){e(new Error("error"))},n.src=o})},editZone:function(t){this.$refs["zone".concat(t)][0].showModalFn(t)},delZone:function(t){this.$refs["zone".concat(t)][0].delItem(t)},showZoneText:function(t){switch(t.type){case"goods":return"商品：".concat(t.goodsName);case"category":return"分类：".concat(t.name);case"shops":return"店铺：".concat(t.storeName);case"pages":return"文章：".concat(t.title);case"marketing":return"促销活动商品：".concat(t.goodsName);case"other":return"".concat(t.title);default:return"请选择跳转链接"}},changeInfo:function(t){var e=t.info,n=t.index,e=s(s({},t.zoneInfo),e);Object.assign(this.zones[n],e),this.hasChange("changeInfo"),this.$forceUpdate()},addItem:function(t){this.zones.push(t),this.$emit("choose")},eraseItem:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.zones.length-1;this.zones.splice(t,1),this.$emit("erase",t)},isOverRange:function(){var t=this.max,e=this.zones;return t&&e.length>t},overRange:function(){var t=this.zones.length-1;this.zones.splice(t,1),this.$emit("overRange",t)},removeItem:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.zones.length-1;this.zones.splice(t,1),this.hasChange("removeItem"),this.$emit("remove",t)},changeItem:function(t,e){var n=this.zones.length-1;Object.assign(this.zones[n],t),this.hasChange("changeItem"),e&&this.$emit("add",this.zones[n])},hasChange:function(t){this.$emit("change",this.zones)}},directives:{addItem:{bind:function(s,t,h){var c=v.MIN_LIMIT;function e(t){t&&t.preventDefault();var o={top:v.getDistanceY(t,s),left:v.getDistanceX(t,s),width:0,height:0},i=v.getOffset(s),e={topPer:v.decimalPoint(o.top/i.height),leftPer:v.decimalPoint(o.left/i.width),widthPer:0,heightPer:0},r=v.getPageX(t),a=v.getPageY(t);function n(t){t&&t.preventDefault();var e=v.getPageX(t)-r,n=v.getPageY(t)-a,t=(r=v.getPageX(t),a=v.getPageY(t),v.dealBR(o,e,n,0));o=v.dealEdgeValue(o,t,i,h.context.zones),Object.assign(s.lastElementChild.style,{top:"".concat(o.top,"px"),left:"".concat(o.left,"px"),width:"".concat(o.width,"px"),height:"".concat(o.height,"px")})}h.context.addItem(e),window.addEventListener("mousemove",n,{passive:!1}),window.addEventListener("mouseup",function t(){var e={topPer:v.decimalPoint(o.top/i.height),leftPer:v.decimalPoint(o.left/i.width),widthPer:v.decimalPoint(o.width/i.width),heightPer:v.decimalPoint(o.height/i.height),img:"",link:"",type:"",title:""};h.context.isOverRange()?h.context.overRange():i.height<c&&o.width>c?h.context.changeItem(Object.assign(e,{topPer:0,heightPer:1}),!0):i.width<c&&o.height>c?h.context.changeItem(Object.assign(e,{leftper:0,widthPer:1}),!0):o.width>c&&o.height>c?h.context.changeItem(e,!0):h.context.eraseItem(),window.removeEventListener("mousemove",n),window.removeEventListener("mouseup",t)},{passive:!1})}s.addEventListener("mousedown",e,{passive:!1}),s.$destroy=function(){return s.removeEventListener("mousedown",e)}},unbind:function(t){t.$destroy()}}},components:{Zone:o}};n("9215");o={components:{hotzone:Object(i.a)(o,function(){var n=this,o=n._self._c;return o("div",{staticClass:"hotzone-box"},[o("div",{staticClass:"hotzone-item"},[o("div",{ref:"content",staticClass:"hz-m-wrap"},[o("img",{staticClass:"hz-u-img",attrs:{src:n.image}}),o("ul",{directives:[{name:"add-item",rawName:"v-add-item"}],staticClass:"hz-m-area"},n._l(n.zones,function(t,e){return o("zone",{key:e,ref:"zone".concat(e),refInFor:!0,staticClass:"hz-m-item",attrs:{index:e,setting:t},on:{delItem:function(t){return n.removeItem(t)},changeInfo:function(t){return n.changeInfo(t)}}})}),1)])]),o("div",[o("div",{staticClass:"hotzone-add-box-body"},n._l(n.zones,function(t,e){return o("div",{key:e,staticClass:"hotzone-box-item-main"},[o("div",{staticClass:"hotzone-box-item wes-2"},[o("div",[n._v(n._s(e+1))]),o("div",{on:{click:function(t){return n.editZone(e)}}},[o("div",{staticClass:"hotzone-box-item-text"},[n._v(" "+n._s(n.showZoneText(t))+" ")])]),o("div",{staticClass:"flex"},[o("div",{staticClass:"hotzone-btn",on:{click:function(t){return n.editZone(e)}}},[n._v("修改")]),n._v("      "),o("div",{staticClass:"hotzone-btn",on:{click:function(t){return n.delZone(e)}}},[n._v("删除")])])])])}),0),o("div",{staticClass:"hotzone-add-box-footer",on:{click:n.addHotzone}},[o("svg",{attrs:{viewBox:"64 64 896 896",focusable:"false","data-icon":"plus",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"}},[o("path",{attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}}),o("path",{attrs:{d:"M176 474h672q8 0 8 8v60q0 8-8 8H176q-8 0-8-8v-60q0-8 8-8z"}})]),o("div",{staticClass:"hotzone-add-box-text"},[n._v("添加热区")])])])])},[],!1,null,"f28fbc6e",null).exports},data:function(){return{flag:!1}},props:["res"],mounted:function(){},methods:{changeHotzone:function(t){this.$emit("changeZone",t)},clickClose:function(){this.$emit("closeFlag",!1)},clickOK:function(){this.clickClose()},open:function(t,e){this.flag=!0},close:function(){this.flag=!1}}};n("64a1");var u=Object(i.a)(o,function(){var e=this,t=e._self._c;return t("Modal",{attrs:{styles:{top:"120px"},width:"800","mask-closable":!1,title:"绘制热区",scrollable:""},on:{"on-cancel":e.clickClose,"on-ok":e.clickOK},model:{value:e.flag,callback:function(t){e.flag=t},expression:"flag"}},[e.flag?[t("hotzone",{ref:"hotzone",attrs:{zonesInit:e.res.zoneInfo,image:e.res.img},on:{change:e.changeHotzone}})]:e._e()],2)},[],!1,null,"e227f674",null).exports;u.install=function(t){t.component(u.name,u)},e.a=u},b08e:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABmJLR0QA/wD/AP+gvaeTAAAEUElEQVR4nO2bS4gcVRSGvxODkgxqEBIkMjFRmBE3EUUjgkYHxRcogg+ydGEEcSOIm2QnIrh1peJONBATDBpBDBo3ohGDYIyIZjJRM3lp1PhIHJ38LupOqLld1X2r6tajcf5VV9c5557v79tVt7qrYEH/b1nbDcSSpGuBR4AbgRXAGWA/sBPYZmZ/t9hefZK0XNJ2SWeVrylJd7fda3RJGpM02Qc8rbOSnmy752iSNC7pcCB82oS70nUyjwGSDLgFWA9cCpxXPxIngZfMbGpQoKRx4ANgpbfrNPAG8CWwHNgArPFiDgFjZjaTV3ytpM8LOhtLP0oaGQSv7E9+Uokx6dgRSVsyYjfkFV8n6Y+66AK1riT85Tk5I+o9TryWFbhU0ve1og3WcUkXxYJP5T7r5eyd27c4FfcoMOrl/gR8DDRxDv0ZeNHMTvk7lP+dPwjcZmaHBtQ+7m0v6YmQ9K7n0teSLgnvvx5V+eRTNV71cj/KCvrKC3omOk1BRYIfl3Tay38hK/CAF7QxOlEBRYJflcElSddkBXfGgAHwqwJr5MG/mZfQCQNqhj8oaUVeUusG1Ax/WNJYv8RWDVByYZMFPyXJX87m1RiV9F1GjaOSrh6U3JoBrcO7Aq0Y0Al4V6RxAzoD7wo1akCn4F2xxgzoHLwr2IgBnYR3RWs3oLPwrnCtBnQa3hWvzYDOw7sBajFgKODdINENGBp4N1BUA4YK3g0WzYChg3cDRjFgAPzqwBrNwrtBKxsgaXUO/AHFuZ4fz8m5TtI+Sb9I2lS077kiMQzYmgPv/9yel18Y3uV96sWvLdp7ZQMkLZN0pgL8aBl4l3vSy3kwtO9FoYEBug+4IN0XcI+Z/TAo0Zm0G7jC2zUNTJjZNwV7Cb7xI6YBD3vbn4U07uA/pBf+GHBHCfhCimKApGXA7d7bWwPy5uCv9HYdI/nk98for59izYD7mT/9Abb3S+gCPMQz4CFve4+ZTeYFdwUeIhiQM/2z/31J4q8iOeD58NPA+ibhYf7f42WVNf23pTeULIIeIJkpN9F7lG7kgJelGAZkTv8A6Dk1Pu3TqmSApIvpnf5I2gNcH1Ci7Hk+mqrOgKzpf0NA3gzwNvB0yF1hdaqqAf7ip59mgU9I1gevm9mJimNHUWkDlNxLODEgbAZ4nwR6h5n9Wna8ulRlBiwCfqf3hqPOQ6dV2gAzm5X0OPAKcCGwiyGBTqvSMcDM3pK0A1hsZv9E6qlRVV4HmJmAoYSHuJfDQ6kFA9puoG0tGJB6Pevt85e4nZRbkJ3vvf1vaH7agKPevnvLNtWwJgD/IYsjocnp0+Bu4ObU9p2S3gPeoZnb5ctoDfCE995vwN6M2Eydu0aXtBL4FlgapbX29JyZbQ4NPvcVMLNp4KlaWmpOXwDPF0mYdxYws5eBjcBfEZtqSrtIflb7s0hS3mNzlwGPAbeSPKbSxGNzZXQK2AdsMbOdbTezoGHUf9jg+58NQxbkAAAAAElFTkSuQmCC"},b211:function(t,e,n){}}]);