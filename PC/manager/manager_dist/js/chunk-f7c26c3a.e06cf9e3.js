(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-f7c26c3a","chunk-713e01b7"],{"0525":function(e,t,a){},"128c":function(e,t,a){"use strict";a("0525")},"3a37":function(e,t,a){},afb9:function(e,t,a){"use strict";a.r(t);var r=a("bb7b"),s=a("c40e");function n(t,e){var a,r=Object.keys(t);return Object.getOwnPropertySymbols&&(a=Object.getOwnPropertySymbols(t),e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,a)),r}function c(r){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?n(Object(s),!0).forEach(function(e){var t,a;t=r,a=s[e=e],e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(s)):n(Object(s)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(s,e))})}return r}r={components:{affixTime:a("c245").a,memberLayout:r.default},data:function(){var a=this;return{params:{searchType:"LAST_SEVEN",year:"",month:"",shopId:"",type:"NUM"},columns:[{title:"商品名称",key:"goodsName"},{title:"销售数量",key:"num"},{title:"销售金额",key:"price",render:function(e,t){return e("div",a.$options.filters.unitPrice(t.row.price,"￥"))}}],data:[]}},methods:{handleClickType:function(e){this.params.type=e,this.getData()},clickBreadcrumb:function(e,t){var a=this.params.type;this.params=c({},e),this.params.type=a,this.getData()},getData:function(){var t=this;Promise.all([s.x(this.params)]).then(function(e){e[0].result&&(t.data=e[0].result)})}},mounted:function(){this.getData()}},a("128c"),a=a("2877"),a=Object(a.a)(r,function(){var e=this,t=e._self._c;return t("div",[t("Affix",{attrs:{"offset-top":100}},[t("Card",{staticClass:"card fixed-bottom"},[t("affixTime",{attrs:{closeShop:!0},on:{selected:e.clickBreadcrumb}})],1)],1),t("Card",{staticClass:"card"},[t("Tabs",{on:{"on-click":e.handleClickType}},[t("TabPane",{attrs:{label:"热门商品订单数量",name:"NUM"}},[t("Table",{attrs:{columns:e.columns,data:e.data}})],1),t("TabPane",{attrs:{label:"热门商品订单金额",name:"PRICE"}},[t("Table",{attrs:{columns:e.columns,data:e.data}})],1)],1)],1)],1)},[],!1,null,"d2a4f5a2",null);t.default=a.exports},be3d:function(e,t,a){"use strict";a("3a37")},c245:function(e,t,a){"use strict";var r=a("0959");function s(e){return function(e){if(Array.isArray(e))return n(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){{var a;if(e)return"string"==typeof e?n(e,t):"Map"===(a="Object"===(a=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:a)||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?n(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}var c={props:["closeShop"],data:function(){return{month:"",selectedWay:{title:"最近7天",selected:!0,searchType:"LAST_SEVEN"},storeId:"",dates:[],params:{pageNumber:1,pageSize:10,storeName:""},dateList:[{title:"今天",selected:!1,searchType:"TODAY"},{title:"昨天",selected:!1,searchType:"YESTERDAY"},{title:"最近7天",selected:!0,searchType:"LAST_SEVEN"},{title:"最近30天",selected:!1,searchType:"LAST_THIRTY"}],shopTotal:"",shopsData:[]}},mounted:function(){this.getFiveYears(),this.getShopList()},methods:{handleReachBottom:function(){var e=this;setTimeout(function(){e.params.pageNumber*e.params.pageSize<=e.shopTotal&&(e.params.pageNumber++,e.getShopList())},1500)},getShopList:function(){var a=this;Object(r.h)(this.params).then(function(e){var t;e.success&&(a.shopTotal=e.result.total,(t=a.shopsData).push.apply(t,s(e.result.records)))})},changeshop:function(e){this.selectedWay.storeId=this.storeId,this.$emit("selected",this.selectedWay)},getFiveYears:function(){for(var e=(new Date).getFullYear(),t=e-5,a=(new Date).getMonth()+1,r=[],s=t;s<=e;s++)for(var n=1;n<=12;n++)s==e&&a<n||r.push({year:s,month:n});this.dates=r.reverse()},changeSelect:function(){this.month&&(this.dateList.forEach(function(e){e.selected=!1}),this.selectedWay.year=this.month.split("-")[0],this.selectedWay.month=this.month.split("-")[1],this.selectedWay.searchType="",this.$emit("selected",this.selectedWay))},clickBreadcrumb:function(t){this.dateList.forEach(function(e){e.selected=!1}),t.selected=!0,t.storeId=this.storeId,(this.month="")==t.searchType&&(dateList.some(function(e){return e.title==t.title})?t.searchType=date.searchType:t.searchType="LAST_SEVEN"),this.selectedWay=t,this.selectedWay.year=(new Date).getFullYear(),this.selectedWay.month="",this.$emit("selected",this.selectedWay)}}},a=(a("be3d"),a("2877")),a=Object(a.a)(c,function(){var r=this,s=r._self._c;return s("div",[s("div",{staticClass:"breadcrumb"},[r._l(r.dateList,function(t,a){return s("span",{key:a,class:{active:t.selected},on:{click:function(e){return r.clickBreadcrumb(t,a)}}},[r._v(" "+r._s(t.title))])}),s("div",{staticClass:"date-picker"},[s("Select",{staticStyle:{width:"200px","margin-left":"10px"},attrs:{placeholder:"年月查询",clearable:""},on:{"on-change":function(e){return r.changeSelect(r.selectedWay)}},model:{value:r.month,callback:function(e){r.month=e},expression:"month"}},r._l(r.dates,function(e,t){return s("Option",{key:t,attrs:{value:e.year+"-"+e.month,clearable:""}},[r._v(" "+r._s(e.year+"年"+e.month+"月"))])}),1)],1),r.closeShop?r._e():s("div",{staticClass:"shop-list"},[s("Select",{staticStyle:{width:"200px","margin-left":"10px"},attrs:{clearable:"",placeholder:"店铺查询"},on:{"on-change":function(e){return r.changeshop(r.selectedWay)}},model:{value:r.storeId,callback:function(e){r.storeId=e},expression:"storeId"}},[s("Scroll",{attrs:{"on-reach-bottom":r.handleReachBottom}},r._l(r.shopsData,function(e,t){return s("Option",{key:t,attrs:{value:e.id}},[r._v(r._s(e.storeName))])}),1)],1)],1)],2)])},[],!1,null,"03cc32a5",null);t.a=a.exports}}]);