(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-7eb09717"],{"31e2":function(t,a,r){},4468:function(t,a,r){"use strict";r("31e2")},b2f5:function(t,a,r){"use strict";r.r(a);var e=r("c40e"),o=r("ed08"),i={name:"categoryParams",data:function(){return{submitLoading:!1,categoryId:this.$route.query.id,paramsGroup:[],modalType:0,modalTitle:"",dialogParamsVisible:!1,dialogParamsGroupVisible:!1,paramForm:{sort:1},ops:{options:[]},paramGroupForm:{},formValidate:{paramName:[o.a.REQUIRED,o.a.VARCHAR5],options:[o.a.REQUIRED,o.a.VARCHAR255],sort:[o.a.REQUIRED,o.a.INTEGER]},paramGroupValidate:{groupName:[o.a.REQUIRED,o.a.VARCHAR5]}}},filters:{paramTypeFilter:function(t){return 1===t?"输入项":"选择项"}},methods:{init:function(){this.getDataList()},handleAddParams:function(t){this.paramForm={paramName:"",paramType:1,options:"",required:!1,isIndex:!1,sort:0,groupId:t.groupId,categoryId:this.categoryId},this.modalTitle="添加参数",this.modalType=0,this.dialogParamsVisible=!0},handleEditParams:function(t,a){this.paramForm={paramName:a.paramName,options:a.options.split(","),required:1==a.required,isIndex:1==a.isIndex,groupId:a.groupId||"",categoryId:a.categoryId||"",sort:a.sort||1,id:a.id},this.ops.options=this.paramForm.options,this.modalType=1,this.modalTitle="修改参数",this.dialogParamsVisible=!0},handleEditParamsGroup:function(t){this.paramGroupForm={groupName:t.groupName,categoryId:this.categoryId,id:t.groupId},this.modalType=1,this.modalTitle="修改参数组",this.dialogParamsGroupVisible=!0},handleAddParamsGroup:function(){this.paramGroupForm={},this.ops={},this.paramGroupForm.categoryId=this.categoryId,this.modalType=0,this.modalTitle="添加参数组",this.dialogParamsGroupVisible=!0},submitParamGroupForm:function(){var a=this;this.$refs.paramGroupForm.validate(function(t){t&&(0===a.modalType?Object(e.A)(a.paramGroupForm).then(function(t){a.submitLoading=!1,t.success&&(a.$Message.success("参数组修改成功"),a.getDataList(),a.dialogParamsVisible=!1)}):Object(e.L)(a.paramGroupForm).then(function(t){a.submitLoading=!1,t.success&&(a.$Message.success("参数组修改成功"),a.getDataList(),a.dialogParamsVisible=!1)}),a.dialogParamsGroupVisible=!1)})},submitParamForm:function(){var a=this;this.$refs.paramForm.validate(function(t){t&&(a.submitLoading=!0,(t=JSON.parse(JSON.stringify(a.paramForm))).isIndex=Number(t.isIndex),t.required=Number(t.required),0===a.modalType?Object(e.z)(t).then(function(t){a.submitLoading=!1,t.success&&(a.$Message.success("参数添加成功"),a.getDataList(),a.dialogParamsVisible=!1)}):(t.isIndex=Number(t.isIndex),t.required=Number(t.required),Object(e.K)(t).then(function(t){a.submitLoading=!1,t.success&&(a.$Message.success("参数修改成功"),a.getDataList(),a.dialogParamsVisible=!1)})))})},getDataList:function(){var a=this;Object(e.m)(this.categoryId).then(function(t){t.success&&(a.paramsGroup=t.result)})},handleDeleteParam:function(t,a){var r=this;this.$Modal.confirm({title:"确认删除",content:"您确认要删除 "+a.paramName+" ?",loading:!0,onOk:function(){Object(e.f)(a.id).then(function(t){r.$Modal.remove(),t.success&&(r.$Message.success("删除参数成功"),r.getDataList())})}})},handleDeleteParamGroup:function(t){var a=this;this.$Modal.confirm({title:"确认删除",content:"您确认要删除 "+t.groupName+" ?",loading:!0,onOk:function(){Object(e.g)(t.groupId).then(function(t){a.$Modal.remove(),t.success&&(a.$Message.success("删除参数成功"),a.getDataList())})}})}},mounted:function(){this.init()}},r=(r("4468"),r("2877")),r=Object(r.a)(i,function(){var e=this,o=e._self._c;return o("div",{staticStyle:{width:"100%"}},[o("Card",[o("Button",{attrs:{type:"primary"},on:{click:e.handleAddParamsGroup}},[e._v("添加")])],1),o("div",{staticClass:"row"},[0==e.paramsGroup.length?o("Card",[e._v(" 暂无参数绑定信息 ")]):o("div",{staticClass:"paramsGroup"},e._l(e.paramsGroup,function(r,t){return o("Card",{key:t,staticStyle:{width:"350px",margin:"7px"},attrs:{bordered:!1}},[o("p",{attrs:{slot:"title"},slot:"title"},[o("Icon",{attrs:{type:"ios-film-outline"}}),e._v(" "+e._s(r.groupName)+" ")],1),o("p",{attrs:{slot:"extra"},slot:"extra"},[o("Dropdown",{attrs:{slot:"extra"},slot:"extra"},[o("a",{attrs:{href:"javascript:void(0)"}},[e._v(" 操作 "),o("Icon",{attrs:{type:"ios-arrow-down"}})],1),o("Dropdown-menu",{attrs:{slot:"list"},slot:"list"},[o("Dropdown-item",{nativeOn:{click:function(t){return e.handleEditParamsGroup(r)}}},[e._v("编辑")]),o("Dropdown-item",{nativeOn:{click:function(t){return e.handleDeleteParamGroup(r)}}},[e._v("删除")])],1)],1),o("Icon",{attrs:{type:"arrow-down-b"}})],1),r.params&&0<r.params.length?e._l(r.params,function(a,t){return o("div",{key:t,staticClass:"params"},[o("span",[e._v(e._s(a.paramName))]),o("span",[o("i-button",{attrs:{type:"text"},on:{click:function(t){return e.handleEditParams(r,a)}}},[e._v("编辑")]),o("i-button",{staticStyle:{color:"#f56c6c"},attrs:{type:"text",size:"small"},on:{click:function(t){return e.handleDeleteParam(r,a)}}},[e._v("删除")])],1)])}):o("div",{staticStyle:{"align-content":"center"}},[e._v("暂无数据...")]),o("div",{staticStyle:{"text-align":"center"}},[o("i-button",{attrs:{type:"text"},on:{click:function(t){return e.handleAddParams(r)}}},[e._v("添加")])],1)],2)}),1)],1),o("div",[o("Modal",{attrs:{title:e.modalTitle,"mask-closable":!1,width:500},model:{value:e.dialogParamsVisible,callback:function(t){e.dialogParamsVisible=t},expression:"dialogParamsVisible"}},[o("Form",{ref:"paramForm",attrs:{model:e.paramForm,"label-width":100,rules:e.formValidate}},[o("FormItem",{attrs:{label:"参数名称",prop:"paramName"}},[o("Input",{staticStyle:{width:"100%"},model:{value:e.paramForm.paramName,callback:function(t){e.$set(e.paramForm,"paramName",t)},expression:"paramForm.paramName"}})],1),o("FormItem",{attrs:{label:"可选值",prop:"options"}},[o("Select",{staticStyle:{width:"100%","text-align":"left","margin-right":"10px"},attrs:{placeholder:"输入后回车添加",multiple:"",filterable:"","allow-create":"","popper-append-to-body":!1,"popper-class":"spec-values-popper"},model:{value:e.paramForm.options,callback:function(t){e.$set(e.paramForm,"options",t)},expression:"paramForm.options"}},e._l(e.ops.options,function(t,a){return o("Option",{key:a,attrs:{value:t,label:t}},[e._v(" "+e._s(t)+" ")])}),1)],1),o("FormItem",{attrs:{label:"选项",prop:"specName3"}},[o("Checkbox",{attrs:{label:"1"},model:{value:e.paramForm.required,callback:function(t){e.$set(e.paramForm,"required",t)},expression:"paramForm.required"}},[e._v("必填")]),o("Checkbox",{attrs:{label:"1"},model:{value:e.paramForm.isIndex,callback:function(t){e.$set(e.paramForm,"isIndex",t)},expression:"paramForm.isIndex"}},[e._v("可索引")])],1),o("FormItem",{attrs:{label:"排序",prop:"sort"}},[o("InputNumber",{staticStyle:{width:"100%"},attrs:{min:0,type:"number"},model:{value:e.paramForm.sort,callback:function(t){e.$set(e.paramForm,"sort",t)},expression:"paramForm.sort"}})],1)],1),o("div",{attrs:{slot:"footer"},slot:"footer"},[o("Button",{attrs:{type:"text"},on:{click:function(t){e.dialogParamsVisible=!1}}},[e._v("取消")]),o("Button",{attrs:{type:"primary",loading:e.submitLoading},on:{click:e.submitParamForm}},[e._v("提交")])],1)],1)],1),o("div",[o("Modal",{attrs:{title:e.modalTitle,"mask-closable":!1,width:500},model:{value:e.dialogParamsGroupVisible,callback:function(t){e.dialogParamsGroupVisible=t},expression:"dialogParamsGroupVisible"}},[o("Form",{ref:"paramGroupForm",attrs:{model:e.paramGroupForm,"label-width":100,rules:e.paramGroupValidate},nativeOn:{submit:function(t){t.preventDefault()},keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submitParamGroupForm.apply(null,arguments)}}},[o("FormItem",{attrs:{label:"参数名称",prop:"groupName"}},[o("Input",{staticStyle:{width:"100%"},model:{value:e.paramGroupForm.groupName,callback:function(t){e.$set(e.paramGroupForm,"groupName",t)},expression:"paramGroupForm.groupName"}})],1)],1),o("div",{attrs:{slot:"footer"},slot:"footer"},[o("Button",{attrs:{type:"text"},on:{click:function(t){e.dialogParamsGroupVisible=!1}}},[e._v("取消")]),o("Button",{attrs:{type:"primary",loading:e.submitLoading},on:{click:e.submitParamGroupForm}},[e._v("提交")])],1)],1)],1)],1)},[],!1,null,null,null);a.default=r.exports},ed08:function(t,a,r){"use strict";r.d(a,"a",function(){return e});var e={},o=(r.r(e),r.d(e,"qq",function(){return o}),r.d(e,"name",function(){return i}),r.d(e,"mobile",function(){return s}),r.d(e,"email",function(){return n}),r.d(e,"password",function(){return m}),r.d(e,"integer",function(){return u}),r.d(e,"Integer",function(){return l}),r.d(e,"discount",function(){return p}),r.d(e,"rate",function(){return d}),r.d(e,"money",function(){return c}),r.d(e,"IDCard",function(){return f}),r.d(e,"userName",function(){return g}),r.d(e,"URL",function(){return b}),r.d(e,"TEL",function(){return h}),r.d(e,"INTEGER",function(){return v}),r.d(e,"NUMBER",function(){return y}),r.d(e,"VARCHAR5",function(){return F}),r.d(e,"VARCHAR20",function(){return I}),r.d(e,"VARCHAR255",function(){return $}),r.d(e,"URL200",function(){return G}),r.d(e,"REQUIRED",function(){return x}),/^[1-9][0-9]{4,14}$/),i=/^[\u4e00-\u9fa5]{0,}$/,s=/^0?(13[0-9]|14[0-9]|15[0-9]|16[0-9]|17[0-9]|18[0-9]|19[0-9])[0-9]{8}$/,n=/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/,m=/^[@A-Za-z0-9!#$%^&*.~,]{6,20}$/,u=/^[1-9]\d*$/,l=/^[0-9]\d*$/,p=/^((0\.[1-9]{1})|(([1-9]{1})(\.\d{1})?))$/,d=/^([0-9]{1,2}|100)$/,c=/(^[1-9]([0-9]+)?(\.[0-9]{1,2})?$)|(^(0){1}$)|(^[0-9]\.[0-9]([0-9])?$)/,f=/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/,g=/[A-Za-z0-9_\-\u4e00-\u9fa5]$/,b=/^(https?|ftp):\/\/([a-zA-Z0-9.-]+(:[a-zA-Z0-9.&%$-]+)*@)*((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]?)(\.(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9]?[0-9])){3}|([a-zA-Z0-9-]+\.)*[a-zA-Z0-9-]+\.(com|edu|gov|int|mil|net|org|biz|arpa|info|name|pro|aero|coop|museum|[a-zA-Z]{2}))(:[0-9]+)*(\/($|[a-zA-Z0-9.,?'\\+&%$#=~_-]+))*$/,h=/0\d{2,3}-\d{7,8}/,v={pattern:/^[0-9]\d{0,10}|0$/,message:"请输入正整数"},y={pattern:/^(\-|\+)?\d{0,10}$/,message:"请输入数字"},F={pattern:/^.{1,5}$/,message:"长度应该限制在1-5个字符"},I={pattern:/^.{1,20}$/,message:"长度应该限制在1-20个字符"},$={pattern:/^.{1,255}$/,message:"超出最大长度限制"},G={pattern:/[a-zA-z]+\:\/\/[^\s]{1,190}/,message:"请输入长度不超过200的URL地址"},x={required:!0,message:"请填写参数"}}}]);