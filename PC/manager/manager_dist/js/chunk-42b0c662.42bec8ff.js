(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-42b0c662"],{"06c9":function(t,e,r){"use strict";function a(e,t){var r=!1;return e.$refs[t].validate(function(t){return t?r=!0:e.$Message.error("请正确填写内容!"),r}),r}r.d(e,"a",function(){return a})},"1d31":function(t,e,r){},"9ec7":function(t,e,r){"use strict";r("1d31")},ea50:function(t,e,r){"use strict";r.r(e);var a=r("365c"),s=r("06c9");function i(e,t){var r,a=Object.keys(e);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(e),t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)),a}function o(a){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?i(Object(s),!0).forEach(function(t){var e,r;e=a,r=s[t=t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(s)):i(Object(s)).forEach(function(t){Object.defineProperty(a,t,Object.getOwnPropertyDescriptor(s,t))})}return a}var l={props:["res","type"],data:function(){return{formValidate:{goodsCheck:1,smallPictureHeight:"0",smallPictureWidth:"0",abbreviationPictureWidth:"0",abbreviationPictureHeight:"0",originalPictureWidth:"0",originalPictureHeight:"0"},progressVal:0,showProgress:!1,intervalProgress:null,ruleValidate:{}}},created:function(){this.init()},methods:{submit:function(t){Object(s.a)(this,t)&&this.setupSetting()},createIndex:function(){var e=this;Object(a.i)().then(function(t){t.success?(e.$Message.success("开始生成!"),e.showProgress=!0,setTimeout(function(){e.intervalProgress=setInterval(function(){Object(a.K)().then(function(t){t=t.result;null!=t&&0===t.flag?(clearInterval(e.intervalProgress),e.showProgress=!1,e.$Message.success("生成成功!")):e.progressVal=Math.floor(t.processed/t.total*100)})},1e3)},1e4)):1e5===t.code&&(e.showProgress=!0,e.intervalProgress=setInterval(function(){Object(a.K)().then(function(t){t=t.result;null!=t&&0===t.flag?(clearInterval(e.intervalProgress),e.showProgress=!1,e.$Message.success("生成成功!")):e.progressVal=Math.floor(t.processed/t.total*100)})},1e3))})},setupSetting:function(){var e=this;Object(a.hb)(this.type,this.formValidate).then(function(t){t.success?e.$Message.success("保存成功!"):e.$Message.error("保存失败!")})},init:function(){var e=this;this.res=JSON.parse(this.res),Object.keys(this.res).map(function(t){e.res[t]+=""}),this.$set(this,"formValidate",o({},this.res)),Object.keys(this.formValidate).forEach(function(t){e.ruleValidate[t]=[{required:!0,message:"请填写必填项",trigger:"blur"},{validator:function(t,e,r){e<0?r(new Error("不能输入负数！")):r()},trigger:"change"}]})}}},r=(r("9ec7"),r("2877")),r=Object(r.a)(l,function(){var e=this,t=e._self._c;return t("div",{staticClass:"layout"},[t("Form",{ref:"formValidate",attrs:{"label-width":150,"label-position":"right",model:e.formValidate,rules:e.ruleValidate}},[t("FormItem",{attrs:{label:"商品审核",prop:"goodsCheck"}},[t("RadioGroup",{attrs:{type:"button","button-style":"solid"},model:{value:e.formValidate.goodsCheck,callback:function(t){e.$set(e.formValidate,"goodsCheck",t)},expression:"formValidate.goodsCheck"}},[t("Radio",{attrs:{label:"true"}},[e._v("开启")]),t("Radio",{attrs:{label:"false"}},[e._v("关闭")])],1)],1),t("div",{staticClass:"label-item"},[t("FormItem",{staticClass:"label-item",attrs:{label:"缩略图宽",prop:"abbreviationPictureWidth"}},[t("Input",{attrs:{type:"number"},model:{value:e.formValidate.abbreviationPictureWidth,callback:function(t){e.$set(e.formValidate,"abbreviationPictureWidth",t)},expression:"formValidate.abbreviationPictureWidth"}},[t("span",{attrs:{slot:"prepend"},slot:"prepend"},[e._v("宽")]),t("span",{attrs:{slot:"append"},slot:"append"},[e._v("px")])])],1),t("FormItem",{staticClass:"label-item",attrs:{label:"缩略图高",prop:"abbreviationPictureHeight"}},[t("Input",{attrs:{type:"number"},model:{value:e.formValidate.abbreviationPictureHeight,callback:function(t){e.$set(e.formValidate,"abbreviationPictureHeight",t)},expression:"formValidate.abbreviationPictureHeight"}},[t("span",{attrs:{slot:"prepend"},slot:"prepend"},[e._v("高")]),t("span",{attrs:{slot:"append"},slot:"append"},[e._v("px")])])],1)],1),t("div",{staticClass:"label-item"},[t("FormItem",{attrs:{label:"小图宽",prop:"smallPictureWidth"}},[t("Input",{attrs:{type:"number"},model:{value:e.formValidate.smallPictureWidth,callback:function(t){e.$set(e.formValidate,"smallPictureWidth",t)},expression:"formValidate.smallPictureWidth"}},[t("span",{attrs:{slot:"prepend"},slot:"prepend"},[e._v("宽")]),t("span",{attrs:{slot:"append"},slot:"append"},[e._v("px")])])],1),t("FormItem",{staticClass:"label-item",attrs:{label:"小图高",prop:"smallPictureHeight"}},[t("Input",{attrs:{type:"number"},model:{value:e.formValidate.smallPictureHeight,callback:function(t){e.$set(e.formValidate,"smallPictureHeight",t)},expression:"formValidate.smallPictureHeight"}},[t("span",{attrs:{slot:"prepend"},slot:"prepend"},[e._v("高")]),t("span",{attrs:{slot:"append"},slot:"append"},[e._v("px")])])],1)],1),t("div",{staticClass:"label-item"},[t("FormItem",{staticClass:"label-item",attrs:{label:"原图宽高",prop:"originalPictureWidth"}},[t("Input",{attrs:{type:"number"},model:{value:e.formValidate.originalPictureWidth,callback:function(t){e.$set(e.formValidate,"originalPictureWidth",t)},expression:"formValidate.originalPictureWidth"}},[t("span",{attrs:{slot:"prepend"},slot:"prepend"},[e._v("宽")]),t("span",{attrs:{slot:"append"},slot:"append"},[e._v("px")])])],1),t("FormItem",{staticClass:"label-item",attrs:{label:"原图宽高",prop:"originalPictureHeight"}},[t("Input",{attrs:{type:"number"},model:{value:e.formValidate.originalPictureHeight,callback:function(t){e.$set(e.formValidate,"originalPictureHeight",t)},expression:"formValidate.originalPictureHeight"}},[t("span",{attrs:{slot:"prepend"},slot:"prepend"},[e._v("高")]),t("span",{attrs:{slot:"append"},slot:"append"},[e._v("px")])])],1)],1),t("div",{staticClass:"label-btns"},[t("Button",{attrs:{type:"primary"},on:{click:function(t){return e.submit("formValidate")}}},[e._v("保存")]),t("Button",{staticStyle:{"margin-left":"100px"},attrs:{type:"primary"},on:{click:function(t){return e.createIndex()}}},[e._v("重新生成所有商品索引")]),e.showProgress?t("div",{staticClass:"progress-item"},[t("i-progress",{attrs:{percent:e.progressVal}})],1):e._e()],1)],1)],1)},[],!1,null,"175f4b67",null);e.default=r.exports}}]);