(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-08eea164"],{"21d2":function(t,e,i){"use strict";i.d(e,"f",function(){return r}),i.d(e,"a",function(){return a}),i.d(e,"i",function(){return o}),i.d(e,"h",function(){return s}),i.d(e,"g",function(){return u}),i.d(e,"e",function(){return c}),i.d(e,"c",function(){return l}),i.d(e,"d",function(){return d}),i.d(e,"b",function(){return b});var n=i("7f80"),r=function(t){return Object(n.c)("/distribution/distribution/getByPage",t)},a=function(t,e){return Object(n.k)("/distribution/distribution/audit/".concat(t),e)},o=function(t,e){return Object(n.k)("/distribution/distribution/retreat/".concat(t),e)},s=function(t,e){return Object(n.k)("/distribution/distribution/resume/".concat(t),e)},u=function(t){return Object(n.c)("/distribution/order/getByPage",t)},c=function(t){return Object(n.c)("/distribution/goods/getByPage",t)},l=function(t){return Object(n.b)("/distribution/goods/delByIds/".concat(t))},d=function(t){return Object(n.c)("/distribution/cash/getByPage",t)},b=function(t,e){return Object(n.g)("/distribution/cash/audit/".concat(t),e)}},"47a8":function(t,e,i){"use strict";i.r(e);var n=i("21d2"),r=i("96b0"),a={name:"distribution",components:{},data:function(){var i=this;return{distributionStatusList:r.b,loading:!0,searchForm:{pageNumber:1,pageSize:10},columns:[{title:"会员名称",key:"memberName",minWidth:120,tooltip:!0},{title:"推广单数",key:"distributionOrderCount",minWidth:120,width:150},{title:"分销金额",key:"rebateTotal",width:150,sortable:!1,render:function(t,e){return t("div",i.$options.filters.unitPrice(e.row.rebateTotal,"￥"))}},{title:"可用金额",key:"canRebate",width:150,sortable:!1,render:function(t,e){return t("div",i.$options.filters.unitPrice(e.row.canRebate,"￥"))}},{title:"冻结金额",key:"commissionFrozen",width:150,sortable:!1,render:function(t,e){return t("div",i.$options.filters.unitPrice(e.row.commissionFrozen,"￥"))}},{title:"状态",key:"distributionStatus",width:150,sortable:!1,render:function(t,e){return"PASS"==e.row.distributionStatus?t("Tag",{props:{color:"green"}},"通过"):"APPLY"==e.row.distributionStatus?t("Tag",{props:{color:"geekblue"}},"待审核"):"RETREAT"==e.row.distributionStatus?t("Tag",{props:{color:"volcano"}},"清退"):"REFUSE"==e.row.distributionStatus?t("Tag",{props:{color:"red"}},"拒绝"):void 0}},{title:"操作",key:"action",align:"center",fixed:"right",width:140,render:function(t,e){return t("div",{style:{display:"flex",justifyContent:"center"}},[t("Button",{props:{type:"error",size:"small"},style:{marginRight:"5px",display:"RETREAT"!=e.row.distributionStatus?"block":"none"},on:{click:function(){i.retreat(e.row)}}},"清退"),t("Button",{props:{type:"success",size:"small"},style:{marginRight:"5px",display:"RETREAT"==e.row.distributionStatus?"block":"none"},on:{click:function(){i.resume(e.row)}}},"恢复")])}}],data:[],total:0}},methods:{init:function(){this.getDataList()},changePage:function(t){this.searchForm.pageNumber=t,this.getDataList()},changePageSize:function(t){this.searchForm.pageSize=t,this.getDataList()},handleSearch:function(){this.searchForm.pageNumber=1,this.searchForm.pageSize=10,this.getDataList()},getDataList:function(){var e=this;this.loading=!0,this.searchForm.status="PASS",Object(n.f)(this.searchForm).then(function(t){e.loading=!1,t.success&&(e.data=t.result.records,e.total=t.result.total)})},retreat:function(t){var e=this;this.$Modal.confirm({title:"提示",content:"您确认要清退 "+t.memberName+" ?",loading:!0,onOk:function(){Object(n.i)(t.id).then(function(t){e.$Modal.remove(),t.success&&(e.$Message.success("操作成功"),e.getDataList())})}})},resume:function(t){var e=this;this.$Modal.confirm({title:"提示",content:"您确认要恢复 "+t.memberName+" ?",loading:!0,onOk:function(){Object(n.h)(t.id).then(function(t){e.$Modal.remove(),t.success&&(e.$Message.success("操作成功"),e.getDataList())})}})}},mounted:function(){this.init()}},i=i("2877"),i=Object(i.a)(a,function(){var e=this,i=e._self._c;return i("div",[i("Card",[i("Row",{nativeOn:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleSearch.apply(null,arguments)}}},[i("Form",{ref:"searchForm",staticClass:"search-form",attrs:{model:e.searchForm,inline:"","label-width":70}},[i("Form-item",{attrs:{label:"会员名称",prop:"memberName"}},[i("Input",{staticStyle:{width:"200px"},attrs:{type:"text",placeholder:"请输入会员名称",clearable:""},model:{value:e.searchForm.memberName,callback:function(t){e.$set(e.searchForm,"memberName",t)},expression:"searchForm.memberName"}})],1),i("Form-item",{attrs:{label:"状态"}},[i("Select",{staticStyle:{width:"200px"},model:{value:e.searchForm.distributionStatus,callback:function(t){e.$set(e.searchForm,"distributionStatus",t)},expression:"searchForm.distributionStatus"}},e._l(e.distributionStatusList,function(t){return i("Option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.label))])}),1)],1),i("Button",{staticClass:"search-btn",attrs:{type:"primary",icon:"ios-search"},on:{click:e.handleSearch}},[e._v("搜索")])],1)],1),i("Table",{ref:"table",staticClass:"mt_10",attrs:{loading:e.loading,border:"",columns:e.columns,data:e.data}}),i("Row",{staticClass:"mt_10",attrs:{type:"flex",justify:"end"}},[i("Page",{attrs:{current:e.searchForm.pageNumber,total:e.total,"page-size":e.searchForm.pageSize,"page-size-opts":[10,20,50],size:"small","show-total":"","show-elevator":"","show-sizer":""},on:{"on-change":e.changePage,"on-page-size-change":e.changePageSize}})],1)],1)],1)},[],!1,null,null,null);e.default=i.exports},"96b0":function(t,e,i){"use strict";i.d(e,"b",function(){return n}),i.d(e,"a",function(){return r}),i.d(e,"c",function(){return a});var n=[{value:"APPLY",label:"申请中"},{value:"RETREAT",label:"已清退"},{value:"REFUSE",label:"审核拒绝"},{value:"PASS",label:"审核通过"}],r=[{value:"APPLY",label:"待处理"},{value:"FAIL_AUDITING",label:"拒绝"},{value:"VIA_AUDITING",label:"通过"}],a=[{value:"WAIT_BILL",label:"待结算"},{value:"WAIT_CASH",label:"待提现"},{value:"COMPLETE_CASH",label:"提现完成"}]}}]);